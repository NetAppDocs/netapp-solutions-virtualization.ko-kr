---
sidebar: sidebar 
permalink: vmware/vmw-vvol-overview.html 
keywords: netapp, vmware, getting, started, vvol, ONTAP tools 
summary:  
---
= ONTAP 스토리지와 함께 VMware Virtual Volumes( vVols )를 사용하는 방법에 대해 알아보세요.
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
VMware Virtual Volumes(vVols)의 이점, ONTAP tools for VMware vSphere 프로비저닝, 데이터 보호 전략 및 VM 마이그레이션 지침에 대해 알아보세요.



== 개요

vSphere API for Storage Awareness(VASA)를 사용하면 VM 관리자가 스토리지 팀과 상호 작용하지 않고도 VM을 프로비저닝하는 데 필요한 모든 스토리지 기능을 쉽게 사용할 수 있습니다. VASA 이전에는 VM 관리자가 VM 스토리지 정책을 정의할 수 있었지만, 스토리지 관리자와 협력하여 문서나 명명 규칙을 활용해 적절한 데이터 저장소를 식별해야 했습니다. VASA를 사용하면 적절한 권한을 가진 vCenter 관리자가 vCenter 사용자가 가상 ​​머신을 프로비저닝하는 데 사용할 수 있는 스토리지 기능 범위를 정의할 수 있습니다. VM 스토리지 정책과 데이터스토어 스토리지 기능 프로필 간의 매핑을 통해 vCenter는 선택할 수 있는 호환 데이터스토어 목록을 표시할 뿐만 아니라 VCF 자동화(이전 명칭: Aria 또는 vRealize) 또는 VMware vSphere Kubernetes Service와 같은 다른 기술에서 할당된 정책에서 스토리지를 자동으로 선택할 수 있도록 합니다. 이러한 접근 방식을 스토리지 정책 기반 관리라고 합니다. 스토리지 기능 프로필 및 정책은 기존 데이터스토어에서도 사용할 수 있지만, 여기서는 vVols 데이터스토어에 초점을 맞추겠습니다. ONTAP 용 VASA 공급자는 ONTAP tools for VMware vSphere 의 일부로 포함되어 있습니다.

스토리지 어레이 외부에서 VASA 공급자를 사용하는 이점은 다음과 같습니다.

* 단일 인스턴스는 여러 개의 스토리지 어레이를 관리할 수 있습니다.
* 릴리스 주기는 Storage OS 릴리스에 따라 달라질 필요는 없습니다.
* 스토리지 어레이의 리소스는 매우 비쌉니다.


각 vVol 데이터스토어는 스토리지 컨테이너에 의해 백업됩니다. 스토리지 컨테이너는 VASA 공급자의 논리적 항목으로 스토리지 용량을 정의합니다.  ONTAP 도구를 사용한 스토리지 컨테이너는 ONTAP 볼륨으로 구성됩니다.  동일한 SVM 내에 ONTAP 볼륨을 추가하여 스토리지 컨테이너를 확장할 수 있습니다.

프로토콜 엔드포인트(PE)는 대부분 ONTAP 도구로 관리됩니다.  iSCSI 기반 vVols 의 경우 해당 스토리지 컨테이너 또는 vVol 데이터 저장소에 속하는 모든 ONTAP 볼륨에 대해 하나의 PE가 생성됩니다.  iSCSI용 PE는 vSphere 호스트에 제공되는 작은 크기의 LUN(9.x의 경우 4MiB, 10.x의 경우 2GiB)이며 다중 경로 정책이 PE에 적용됩니다.

image:vmware-vvol-overview-001.png["iSCSI PE 아키텍처"]

image:vmware-vvol-overview-005.png["CLI에서 iSCSI PE 크기"]

NFS의 경우 스토리지 컨테이너나 vVol 데이터 저장소가 있는 SVM의 모든 NFS 데이터 라이프와 함께 루트 파일 시스템 내보내기를 위한 하나의 PE가 생성됩니다.

image:vmware-vvol-overview-002.png["NFS PE 아키텍처"]

image:vmware-vvol-overview-006.png["vSphere UI의 NFS PE"]

ONTAP 도구는 PE의 수명 주기를 관리하고 vSphere 클러스터 확장 및 축소와 관련된 vSphere 호스트 통신도 관리합니다.  ONTAP 도구 API는 기존 자동화 도구와 통합할 수 있습니다.

현재 ONTAP tools for VMware vSphere 두 가지 릴리스로 제공됩니다.



== ONTAP 도구 9.x

* NVMe/FC에 대한 vVol 지원이 필요한 경우
* 미국 연방 또는 EU 규제 요구 사항
* SnapCenter Plug-in for VMware vSphere 과 통합된 더 많은 사용 사례




== ONTAP 도구 10.x

* 고가용성
* 멀티 테넌시
* 대판
* VMFS 데이터 저장소에 대한 SnapMirror Active Sync 지원
* SnapCenter Plug-in for VMware vSphere 사용한 특정 사용 사례에 대한 향후 통합




== 왜 vVols 인가요?

VMware Virtual Volumes(vVols)는 다음과 같은 이점을 제공합니다.

* 간소화된 프로비저닝(vSphere 호스트당 최대 LUN 제한에 대해 걱정할 필요 없고 각 볼륨에 대한 NFS 내보내기를 생성할 필요 없음)
* iSCSI/FC 경로 수를 최소화합니다(블록 SCSI 기반 vVol의 경우)
* 스냅샷, 복제 및 기타 스토리지 작업은 일반적으로 스토리지 어레이로 오프로드되어 훨씬 빠르게 수행됩니다.
* VM에 대한 간소화된 데이터 마이그레이션(동일한 LUN에 있는 다른 VM 소유자와 조정할 필요 없음)
* QoS 정책은 볼륨 수준이 아닌 VM 디스크 수준에서 적용됩니다.
* 운영의 단순성(스토리지 공급업체는 VASA 공급업체에서 차별화된 기능을 제공함)
* 대규모 VM을 지원합니다.
* vCenter 간 마이그레이션을 위한 vVol 복제 지원.
* 스토리지 관리자는 VM 디스크 수준에서 모니터링할 수 있습니다.




== 연결 옵션

일반적으로 스토리지 네트워크에서 높은 가용성, 성능 및 내결함성을 해결하기 위해 듀얼 패브릭 환경이 권장됩니다.  vVols iSCSI, FC, NFSv3 및 NVMe/FC에서 지원됩니다.  참고: 참조link:https://imt.netapp.com/matrix["상호 운용성 매트릭스 도구(IMT)"] 지원되는 ONTAP 도구 버전

연결 옵션은 VMFS 데이터 저장소 또는 NFS 데이터 저장소 옵션과 일관성을 유지합니다.  iSCSI 및 NFS에 대한 샘플 참조 vSphere 네트워크는 아래와 같습니다.

image:vmware-vvol-overview-003.png["iSCSI 네트워크"]

image:vmware-vvol-overview-004.png["NFS 네트워크"]



== ONTAP tools for VMware vSphere 사용한 프로비저닝

vVol 데이터 저장소는 ONTAP 도구를 사용하여 VMFS 또는 NFS 데이터 저장소와 유사하게 프로비저닝될 수 있습니다.  vSphere 클라이언트 UI에서 ONTAP 도구 플러그인을 사용할 수 없는 경우 아래의 시작 방법 섹션을 참조하세요.



=== ONTAP 도구 9.13 사용

. vSphere 클러스터 또는 호스트를 마우스 오른쪽 버튼으로 클릭하고 NetApp ONTAP 도구에서 데이터 저장소 프로비저닝을 선택합니다.
. 유형을 vVols 로 유지하고 데이터 저장소의 이름을 제공하고 원하는 프로토콜을 선택합니다.image:vmware-vvol-overview-007.png["9.13을 사용한 iSCSI vVol 데이터 저장소"]
+
image:vmware-vvol-overview-008.png["9.13을 사용한 NFS vVol 데이터 저장소"]

. 원하는 저장 용량 프로필을 선택하고, 저장 시스템과 SVM을 고르세요.image:vmware-vvol-overview-009.png["9.13을 사용한 저장 시스템 및 SVM"]
. vVol 데이터 저장소에 대해 새로운 ONTAP 볼륨을 생성하거나 기존 볼륨을 선택합니다.image:vmware-vvol-overview-010.png["9.13의 vVol 볼륨"]
+
ONTAP 볼륨은 나중에 데이터 저장소 옵션에서 볼 수 있거나 변경할 수 있습니다.

+
image:vmware-vvol-overview-011.png["9.13으로 vVol 확장"]

. 요약을 검토하고 마침을 클릭하여 vVol 데이터 저장소를 만듭니다.image:vmware-vvol-overview-012.png["9.13을 사용한 iSCSI vVol 데이터 저장소 요약"]
. vVol 데이터 저장소가 생성되면 다른 데이터 저장소와 마찬가지로 사용할 수 있습니다.  다음은 생성 중인 VM에 VM 스토리지 정책에 따라 데이터 저장소를 할당하는 예입니다.image:vmware-vvol-overview-013.png["vVol VM 스토리지 정책"]
. vVol 세부정보는 웹 기반 CLI 인터페이스를 사용하여 검색할 수 있습니다.  포털의 URL은 파일 이름 version.xml을 제외한 VASA 공급자 URL과 동일합니다.image:vmware-vvol-overview-014.png["9.13용 VASA 공급자 정보"]
+
자격 증명은 ONTAP 도구 제공 중에 사용된 정보와 일치해야 합니다.image:vmware-vvol-overview-015.png["VASA 클라이언트 UI"]

+
또는 ONTAP 도구 유지 관리 콘솔에서 업데이트된 비밀번호를 사용하세요. image:vmware-vvol-overview-016.png["ONTAP 도구 콘솔 UI"] 웹 기반 CLI 인터페이스를 선택하세요. image:vmware-vvol-overview-017.png["ONTAP 도구 제어 콘솔"] 사용 가능한 명령 목록에서 원하는 명령을 입력합니다.  기본 저장소 정보와 함께 vVol 세부 정보를 나열하려면 vvol list -verbose=true를 시도하세요.image:vmware-vvol-overview-018.png["9.13의 vVol 정보"] LUN 기반의 경우 ONTAP CLI 또는 시스템 관리자를 사용할 수도 있습니다. image:vmware-vvol-overview-019.png["ONTAP CLI를 사용한 vVol LUN 정보"] image:vmware-vvol-overview-020.png["시스템 관리자를 통한 vVol LUN 정보"] NFS 기반의 경우, 시스템 관리자를 사용하여 데이터 저장소를 검색할 수 있습니다.image:vmware-vvol-overview-021.png["시스템 관리자를 통한 vVol NFS 정보"]





=== ONTAP 도구 10.1을 사용하여

. vSphere 클러스터 또는 호스트를 마우스 오른쪽 버튼으로 클릭하고 NetApp ONTAP 도구에서 데이터 저장소 만들기(10.1)를 선택합니다.
. 데이터 저장소 유형을 vVols 로 선택합니다. image:vmware-vvol-overview-022.png["10.1을 사용한 vVol 데이터 저장소 선택"] vVols 옵션을 사용할 수 없는 경우 VASA 공급자가 등록되어 있는지 확인하세요.image:vmware-vvol-overview-023.png["10.1로 VASA 등록"]
. vVol 데이터 저장소 이름을 제공하고 전송 프로토콜을 선택합니다.image:vmware-vvol-overview-024.png["10.1을 사용한 vVol 데이터 저장소 이름 및 전송 프로토콜"]
. 플랫폼과 스토리지 VM을 선택하세요.image:vmware-vvol-overview-025.png["10.1을 사용한 vVol 데이터 저장소 SVM 선택"]
. vVol 데이터 저장소에 대해 ONTAP 볼륨을 만들거나 기존 볼륨을 사용합니다. image:vmware-vvol-overview-026.png["10.1을 사용한 vVol 데이터 저장소 볼륨 선택"] ONTAP 볼륨은 나중에 데이터 저장소 구성에서 볼 수 있거나 업데이트할 수 있습니다.image:vmware-vvol-overview-027.png["10.1을 통한 vVol 데이터 저장소 확장"]
. vVol 데이터 저장소가 프로비저닝된 후에는 다른 데이터 저장소와 마찬가지로 사용할 수 있습니다.
. ONTAP 도구는 VM 및 데이터 저장소 보고서를 제공합니다.image:vmware-vvol-overview-028.png["10.1을 사용한 VM 보고서"] image:vmware-vvol-overview-029.png["10.1을 사용한 데이터 저장소 보고서"]




== vVol 데이터 저장소의 VM 데이터 보호

vVol 데이터 저장소의 VM 데이터 보호 개요는 다음에서 확인할 수 있습니다.link:https://docs.netapp.com/us-en/ontap-apps-dbs/vmware/vmware-vvols-protect.html["vVols 보호"] .

. vVol 데이터 저장소와 모든 복제 파트너를 호스팅하는 스토리지 시스템을 등록합니다.image:vmware-vvol-overview-030.png["SCV에 저장 시스템 등록"]
. 필수 속성이 포함된 정책을 만듭니다.image:vmware-vvol-overview-031.png["SCV를 사용한 정책 생성"]
. 리소스 그룹을 만들고 정책(들)에 연결합니다. image:vmware-vvol-overview-032.png["SCV를 사용한 리소스 그룹 생성"] 참고: vVol 데이터 저장소의 경우 VM, 태그 또는 폴더로 보호해야 합니다. vVol 데이터 저장소는 리소스 그룹에 포함될 수 없습니다.
. 특정 VM 백업 상태는 구성 탭에서 볼 수 있습니다.image:vmware-vvol-overview-033.png["SCV를 사용한 VM의 백업 상태"]
. VM은 기본 또는 보조 위치에서 복원할 수 있습니다.


나타내다link:https://docs.netapp.com/us-en/sc-plugin-vmware-vsphere/scpivs44_attach_vmdks_to_a_vm.html["SnapCenter 플러그인 설명서"] 추가적인 사용 사례에 대해서.



== 기존 데이터 저장소에서 vVol 데이터 저장소로 VM 마이그레이션

다른 데이터 저장소에서 vVol 데이터 저장소로 VM을 마이그레이션하려면 시나리오에 따라 다양한 옵션을 사용할 수 있습니다.  간단한 스토리지 vMotion 작업부터 HCX를 사용한 마이그레이션까지 다양합니다.  나타내다link:../migration/migrate-vms-to-ontap-datastore.html["VM을 ONTAP 데이터 저장소로 마이그레이션"] 자세한 내용은.



== vVol 데이터 저장소 간 VM 마이그레이션

vVol 데이터 저장소 간 VM 대량 마이그레이션의 경우 다음을 확인하세요.link:../migration/migrate-vms-to-ontap-datastore.html["VM을 ONTAP 데이터 저장소로 마이그레이션"] .



== 샘플 참조 아키텍처

ONTAP tools for VMware vSphere 관리 중인 동일한 vCenter에 설치하거나 다른 vCenter 서버에 설치할 수 있습니다.  관리하는 vVol 데이터 저장소에 호스팅하지 않는 것이 좋습니다.

image:vmware-vvol-overview-034.png["vCenter당 ONTAP 도구 하나씩"]

많은 고객이 vCenter 서버를 관리하는 대신 다른 서버에 호스팅하므로 ONTAP 도구와 SCV에도 비슷한 접근 방식이 권장됩니다.

image:vmware-vvol-overview-035.png["관리 vCenter의 ONTAP 도구"]

ONTAP 도구 10.x를 사용하면 단일 인스턴스로 여러 vCenter 환경을 관리할 수 있습니다.  스토리지 시스템은 클러스터 자격 증명을 통해 전역적으로 등록되고 SVM은 각 테넌트 vCenter 서버에 할당됩니다.

image:vmware-vvol-overview-036.png["ONTAP 도구 10.x를 통한 다중 vCenter 지원"]

전용 모델과 공유 모델을 혼합하여 사용할 수도 있습니다.

image:vmware-vvol-overview-037.png["공유 및 전용 ONTAP 도구의 혼합"]



== 시작하는 방법

ONTAP 도구가 환경에 설치되어 있지 않으면 다음에서 다운로드하세요.link:https://support.netapp.com["NetApp 지원 사이트"] 그리고 사용 가능한 지침을 따르십시오.link:https://docs.netapp.com/us-en/ontap-apps-dbs/vmware/vmware-vvols-ontap.html["ONTAP 과 함께 vVols 사용"] .
