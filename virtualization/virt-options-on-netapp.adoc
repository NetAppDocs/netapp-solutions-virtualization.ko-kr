---
sidebar: sidebar 
permalink: virtualization/virt-options-on-netapp.html 
keywords: virtualization, overview, options, vmware, alternatives, hyperv, proxmox, openshift 
summary: 이 문서에서는 가상화 솔루션과 관계없이 NetApp 가상화 환경에 가장 적합한 플랫폼인 이유에 대한 개요를 제공합니다. 
---
= 모든 가상화 솔루션에 NetApp 사용하는 방법에 대해 알아보세요
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp ONTAP 특히 최근 VMware 라이선스 변경에 대응하여 가상화를 위한 견고한 기반을 제공하는 방식을 알아보세요.  VMware 환경을 최적화하고, VMware Cloud Foundation이나 대체 하이퍼바이저로 마이그레이션하고, NetApp의 고급 데이터 관리, 보호 및 클라우드 통합 기능을 활용하기 위한 전략을 살펴보세요.



== 소개

VMware의 최근 라이선스 변경 사항을 고려하면, 조직에서는 가상화 전략을 적응시켜 비용 효율성과 확장성을 극대화하고 비즈니스 위험을 최소화해야 합니다.  기존 VMware 환경을 최적화하고, 기존 엔터프라이즈 스토리지를 사용하여 독립형 vSphere에서 VMware Cloud Foundation(VCF)으로 마이그레이션을 고려하고, 멀티 하이퍼바이저 또는 하이브리드 클라우드 접근 방식을 도입하는 것이 핵심 단계입니다.  특히, VCF 5.2.1은 vSAN 대신 외부 스토리지 솔루션을 사용할 수 있도록 허용하여 유연성을 강화했으며, 조직이 엔터프라이즈 스토리지 기능을 사용하고 연속성을 유지하면서 새로운 라이선싱 모델을 도입하는 능력을 간소화했습니다.

ONTAP 은 온프레미스 또는 클라우드의 모든 하이퍼바이저에 가장 적합한 플랫폼입니다.  ONTAP 온프레미스 환경의 모든 주요 하이퍼바이저를 지원하고 각 주요 클라우드에서 자체 데이터 서비스를 보유하고 있어 VMware 클라우드 제품과 클라우드 네이티브 워크로드를 지원합니다.  이를 통해 조직은 작업 부하에 적합한 배포 모델을 선택하여 라이선스 변경 사항을 쉽게 탐색할 수 있습니다.

이 논문에서는 VMware 배포 비용을 최적화하기 위한 전략을 개략적으로 설명하고, 다중 하이퍼바이저 도입을 평가하고, vSphere에서 VCF로의 VM 마이그레이션과 대체 하이퍼바이저로의 VM 마이그레이션에 대한 세부 내용을 다루며, 사용 가능한 모든 옵션을 다룹니다.



== 무엇이 바뀌었는가

Broadcom이 VMware를 인수하면서 VMware의 라이선스 모델이 크게 바뀌었습니다.  새로운 접근 방식은 구독 기반 번들 가격 구조로 전환되고 있지만, 업계 추세에 따르면 고객에게 상당히 높은 비용을 부과할 것으로 예상됩니다.  명심해야 할 세 가지 주요 사항은 다음과 같습니다.

*구독 기반 라이선스*: VMware는 영구 라이선스에서 구독 기반 모델로 전환하고 있습니다.

*묶음 패키지*: VMware Cloud Foundation(VCF)은 기업과 서비스 공급업체를 위해 여러 제품을 단일 제품으로 묶습니다.

*소켓당 코어당*: 소켓당 가격에서 CPU 코어당 가격으로의 전환은 비용을 상당히 증가시킬 수 있는 중대한 변화를 나타냅니다.

*중요 사항* - 이러한 변화로 인해 고객은 가상화 요구 사항을 평가하고, 활용도를 보다 효과적으로 최적화하고, 대체 옵션을 모색하게 되었습니다.



== ONTAP 해야 하는 이유

NetApp 스토리지 솔루션은 고객이 가상화된 인프라의 모든 이점을 최대한 활용할 수 있도록 지원합니다.  NetApp 솔루션을 사용하면 고객은 포괄적인 데이터 관리 소프트웨어를 신속하게 구축하여 자동화, 효율성, 데이터 보호 및 선도적인 보안 기능을 제공하는 동시에 까다로운 성능 요구 사항도 충족할 수 있습니다.  ONTAP 소프트웨어를 VMware vSphere와 결합하면 호스트 하드웨어와 VMware 라이선스 비용을 절감하고, 더 낮은 비용으로 데이터를 보호하며, 일관되게 높은 성능을 제공할 수 있습니다.

가상화된 작업 부하는 본질적으로 동적입니다.  따라서 관리자는 VMware Storage vMotion을 활용하여 동일한 스토리지 시스템 내에서 VMFS, NFS 또는 vVols 데이터 저장소 간에 VM을 마이그레이션합니다.  이를 통해 기업은 All-Flash 시스템이나 최신 ASA 모델을 비롯한 다양한 스토리지 전략을 모색하고 SAN 혁신을 활용해 비용 효율성을 높일 수 있습니다.

image:virt-options-001.png["NetApp ONTAP 의 이점 다이어그램"]

ONTAP 스토리지 솔루션은 다음과 같은 이점을 제공합니다.

* *독립적인 확장:* 컴퓨팅을 추가하지 않고도 스토리지를 확장할 수 있도록 vSphere와 통합된 스토리지로 워크로드 데이터 관리, 보호 및 모빌리티를 오프로드합니다.
* *눈부시게 빠른 성능:* 최첨단 NVMe 및 ASA 아키텍처를 통해 밀리초 미만의 지연 시간과 높은 처리량을 제공합니다.  기존 VM과 최신 Kubernetes 또는 AI 배포를 위해 플래시, NVMe 및 GPU 성능을 최적화합니다.
* *종합 데이터 서비스:* 내장된 기능을 사용하여 데이터를 압축, 중복 제거 및 압축하여 저장 공간을 5~30배 줄이고 데이터 센터 효율성을 85~90% 향상시킵니다.
* *원활한 클러스터링 및 높은 가용성:* SnapMirror Active Sync나 MetroCluster 활용해 간편한 스트레치 클러스터링과 강력한 재해 복구를 구현합니다.
* *다중 프로토콜:* ONTAP NFS, iSCSI, SMB, S3 등 여러 프로토콜을 통해 데이터에 대한 액세스를 지원합니다. ONTAP 실행하는 시스템은 여러 가지 중요한 면에서 통합되어 있습니다.  원래 이 접근 방식은 NAS와 SAN 프로토콜을 모두 의미했으며 ONTAP NAS의 원래 강점과 함께 SAN을 위한 선도적 플랫폼으로 계속 자리매김하고 있습니다.
* *자동화된 프로비저닝 및 오케스트레이션:* VMware 및 해당 REST API, vSphere 플러그인, SPBM(스토리지 정책)을 위한 ONTAP 도구를 활용하여 스토리지 관리를 자동화하고 간소화합니다.
* *통합 데이터 보호 및 저비용 재해 복구:* NetApp SnapCenter 사용하여 가상 워크로드 백업 및 복원을 오프로드합니다.  NetApp BlueXP disaster recovery 서비스(DRaaS)를 활용하여 RPO를 낮추고 RTO를 단축한 데이터 복제를 달성하세요.  이를 통해 비용이 많이 드는 대체 인프라가 필요 없게 되어 VMware 워크로드에 대한 저렴한 재해 보호 기능을 제공합니다.  온프레미스 NetApp ONTAP 환경이나 VMware Cloud로 이동하는 경우 NetApp 기반 스토리지는 강력한 보호 기능을 보장합니다.
* *랜섬웨어 감지:* 내장된 자율형 랜섬웨어 보호 및 다중 요소 인증, 역할 기반 액세스, 포괄적인 로깅 및 사용자 동작 이상 감지를 활성화하여 제로 트러스트 호환성을 통해 보호, 감지, 수정 및 복구 기능을 개선하기 위해 VMware 수준의 보안 및 규정 준수를 데이터로 확장합니다.
* *통합 하이브리드 클라우드:* 워크로드 이동성, 백업 및 복원, 재해 복구를 모든 하이퍼스케일러 클라우드(Elastic VMware Service, Azure VMware Solution, Google Cloud VMware Engine)로 간소화하고 통합했습니다.
* *스토리지 수명 주기 프로그램(SLP):* 조직이 해당 단계를 수행할 준비가 되었다면 중단 없이 차세대 컨트롤러로 업그레이드하거나 클라우드 스토리지를 선택하세요.




=== 주요 내용

* ONTAP 사용하면 스토리지 효율성, 암호화, 스냅샷 등 CPU 집약적인 작업을 오프로드하여 ESXi 호스트의 CPU 영향과 오버헤드를 없앨 수 있습니다.  이러한 최적화를 통해 각 호스트에 필요한 코어 수가 줄어들어 총 소유 비용(TCO)이 줄어듭니다.
* ONTAP 사용하면 초기 용량으로 시작하여 뛰어난 데이터 감소 및 이동 기술을 활용하여 새로운 호스트를 추가하지 않고도 비용을 20-50% 절감할 수 있습니다.
* ONTAP 스토리지는 특정 클러스터에 국한되지 않고 여러 작업 부하 도메인과 함께 사용할 수 있으므로 여러 클러스터의 전반적인 활용도가 향상됩니다.
* SnapCenter 와 통합된 ONTAP Snapshot은 VM 및 데이터 저장소 수준 백업과 세분화된 복원을 위한 뛰어나고 무료의 데이터 보호 기능을 제공합니다.  또한 ONTAP 사용하면 장기 보존을 위해 스냅샷을 개체 스토리지로 오프로드할 수 있습니다.
* RAID나 스토리지 풀을 구성하지 않고도 원활한 스토리지를 경험하고, 지속적인 데이터 감소와 암호화를 경험하세요.
* ONTAP One을 사용하면 라이선스 장벽 없이 모든 ONTAP 기능과 강력한 보안을 활용할 수 있습니다.  NetApp BlueXP DRaaS와 함께 사용하면 비용이 더욱 절감됩니다.




== 적정 크기 및 최적화

이러한 라이선싱 변경 사항이 적용됨에 따라 모든 IT 조직은 총 소유 비용(TCO)이 10배 이상 증가할 가능성에 대한 스트레스를 받고 있습니다.  최적화된 VMware 환경은 라이선스 비용을 제어하는 동시에 성능을 극대화합니다.  이를 통해 효과적인 자원 관리와 용량 계획이 보장됩니다.  적절한 도구 세트를 사용하면 낭비되거나 유휴 리소스를 빠르게 식별하여 코어를 회수하고, 이를 통해 코어 수를 줄일 수 있으며, 이는 전체 라이선스 비용을 절감하는 데 도움이 됩니다.

NetApp 이러한 과제를 극복할 수 있는 강력한 도구 모음을 제공하여 가시성을 높이고, 원활한 통합, 비용 효율성, 견고한 보안을 제공합니다.  이러한 역량을 활용하면 조직은 이러한 혼란 속에서도 살아남고 발전할 수 있으며, 미래에 닥칠 모든 어려움에 대비할 수 있습니다.  참고: 대부분 조직이 이미 클라우드 평가의 일환으로 이를 수행하고 있으며, 온프레미스 환경에서 비용 공황을 피하고 감정에 따라 즉각적으로 다른 하이퍼바이저로 마이그레이션하는 비용을 절감하는 데 도움이 되는 동일한 프로세스와 도구입니다.



=== NetApp 어떻게 도움이 되나요?



==== NetApp TCO Estimator: NetApp의 무료 TCO 추정 도구

* 간단한 HTML 기반 계산기
* NetApp VMDC, RVTools 또는 수동 입력 방법을 사용합니다.
* NetApp ONTAP 스토리지 시스템을 사용하여 주어진 배포에 필요한 호스트 수를 쉽게 예상하고 배포를 최적화하여 절감액을 계산합니다.
* 가능한 절감액을 보여줍니다



NOTE: 그만큼link:https://tco.solutions.netapp.com/vmwntaptco/["TCO 추정기"] NetApp 현장 팀과 파트너만 액세스할 수 있습니다.  NetApp 계정 팀과 협력하여 기존 환경을 평가하세요.



==== VM 데이터 수집기(VMDC): NetApp의 무료 VMware 평가 도구

* 가볍고 특정 시점에 구성 및 성능 데이터 수집
* 웹 인터페이스를 통한 간단한 Windows 기반 배포
* VM 토폴로지 관계를 시각화하고 Excel 보고서를 내보냅니다.
* 특히 VMware 핵심 라이선스 최적화를 목표로 합니다.


VMDC를 사용할 수 있습니다link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector/["여기"] .



==== Data Infrastructure Insights (이전 명칭: Cloud Insights)

* 하이브리드/멀티 클라우드 환경 전반의 SaaS 기반 지속적 모니터링
* Pure, Dell, HPE 스토리지 시스템 및 vSAN을 포함한 이기종 환경을 지원합니다.
* 버려진 VM과 사용되지 않는 스토리지 용량을 식별하는 AI/ML 기반 고급 분석 기능을 제공합니다. 자세한 분석과 VM 회수를 위한 권장 사항을 배포하세요.
* 마이그레이션 전에 적절한 크기의 VM에 대한 워크로드 분석 기능을 제공하고, 마이그레이션 전, 중, 후에 중요한 애플리케이션이 SLA를 충족하는지 확인합니다.
* 30일 무료 체험 기간 제공


DII를 사용하면 실시간 메트릭을 사용하여 가상 머신 전반의 워크로드 IO 프로필을 심층적으로 분석할 수 있습니다.


NOTE: NetApp NetApp 아키텍처 및 설계 서비스의 기능인 가상화 현대화 평가라는 평가를 제공합니다.  모든 VM은 CPU 사용률과 메모리 사용률이라는 두 가지 축에 매핑됩니다.  워크숍에서는 온프레미스 최적화와 클라우드 마이그레이션 전략에 대한 모든 세부 정보를 고객에게 제공하여 리소스의 효과적인 활용과 비용 절감을 촉진합니다.  이러한 전략을 구현하면 조직은 비용을 효과적으로 관리하는 동시에 고성능 VMware 환경을 유지할 수 있습니다.



==== 핵심 요점

VMDC는 다양한 환경에서 지속적인 모니터링과 고급 AI/ML 기반 분석을 위한 DII를 구현하기 전에 빠르게 평가할 수 있는 단계입니다.



==== VCF 가져오기 도구: NFS 또는 FC를 주 저장소로 사용하여 VCF 실행

VMware Cloud Foundation(VCF) 5.2가 출시되면서 기존 vSphere 인프라를 VCF 관리 도메인으로 변환하고 추가 클러스터를 VCF VI 워크로드 도메인으로 가져올 수 있는 기능이 추가되었습니다.  이를 통해 VMware Cloud Foundation(VCF)은 이제 vSAN을 사용하지 않고도 NetApp 스토리지 플랫폼에서 완벽하게 실행될 수 있습니다(예, vSAN 없이도 이 모든 것이 가능합니다).  ONTAP 에서 실행되는 기존 NFS 또는 FC 데이터 저장소가 있는 클러스터를 변환하려면 기존 인프라를 최신 프라이빗 클라우드에 통합해야 하므로 vSAN이 필요하지 않습니다.  이 프로세스는 NFS 및 FC 스토리지의 유연성을 활용하여 원활한 데이터 액세스 및 관리를 보장합니다.  변환 프로세스를 통해 VCF 관리 도메인이 설정되면 관리자는 NFS 또는 FC 데이터 저장소를 사용하는 클러스터를 포함하여 추가 vSphere 클러스터를 VCF 생태계로 효율적으로 가져올 수 있습니다.  이러한 통합은 리소스 활용도를 높일 뿐만 아니라 프라이빗 클라우드 인프라 관리를 간소화하여 기존 작업 부하를 최소화하면서 원활한 전환을 보장합니다.


NOTE: 주 저장소로 사용하는 경우에만 NFS v3 및 FC 프로토콜을 지원합니다.  보조 스토리지는 vSphere 지원 NFS 프로토콜 v3 또는 4.1을 사용할 수 있습니다.



==== 핵심 요점:

기존 ESXi 클러스터를 가져오거나 변환하면 기존 ONTAP 스토리지를 데이터 저장소로 활용할 수 있으며 vSAN이나 추가 하드웨어 리소스를 배포할 필요가 없으므로 VCF의 리소스 효율성, 비용 최적화 및 간소화가 가능합니다.



==== ONTAP 스토리지를 사용하여 기존 vSphere에서 VCF로 마이그레이션

VMware Cloud Foundation이 그린필드 설치(새로운 vSphere 인프라 및 Single Sign-On 도메인 생성)인 경우, 이전 vSphere 버전에서 실행되는 기존 워크로드는 Cloud Foundation에서 관리할 수 없습니다.  첫 번째 단계는 기존 vSphere 환경에서 실행 중인 현재 애플리케이션 VM을 Cloud Foundation으로 마이그레이션하는 것입니다.  마이그레이션 경로는 마이그레이션 선택 사항(라이브, 웜, 콜드)과 기존 vSphere 환경의 버전에 따라 달라집니다.  다음은 소스 저장소에 따라 우선순위에 따라 정리된 옵션입니다.

* HCX는 현재 Cloud Foundation 워크로드 이동성을 위해 사용할 수 있는 가장 기능이 풍부한 도구입니다.
* NetApp BlueXP DRaaS 활용
* SRM을 사용한 vSphere 복제는 사용하기 쉬운 vSphere 마이그레이션 도구가 될 수 있습니다.
* VAIO 및 VADP를 사용하여 타사 소프트웨어를 사용하세요




==== 비 NetApp 스토리지에서 ONTAP 스토리지로 VM 마이그레이션

대부분의 경우 가장 쉬운 방법은 Storage vMotion을 사용하는 것입니다.  클러스터는 새로운 ONTAP SAN 또는 NAS 데이터 저장소와 VM을 마이그레이션하는 스토리지(SAN, NAS 등)에 모두 액세스할 수 있어야 합니다.  프로세스는 간단합니다. vSphere Web Client에서 하나 이상의 VM을 선택하고, 선택 항목을 마우스 오른쪽 버튼으로 클릭한 다음 마이그레이션을 클릭합니다.  스토리지 전용 옵션을 선택하고 새 ONTAP 데이터스토어를 대상으로 선택한 후 마이그레이션 마법사의 마지막 몇 단계를 진행합니다. vSphere가 기존 스토리지의 파일(VMX, NVRAM, VMDK 등)을 ONTAP 기반 데이터스토어로 복사합니다.  vSphere는 잠재적으로 대량의 데이터를 복사할 수 있습니다.  이 방법은 가동 중지 시간이 필요하지 않습니다.  VM은 마이그레이션되는 동안에도 계속 실행됩니다.  다른 옵션으로는 호스트 기반 마이그레이션과 마이그레이션을 수행하기 위한 타사 복제가 있습니다.



==== 스토리지 스냅샷을 사용한 재해 복구(스토리지 복제를 통해 더욱 최적화)

NetApp 비용을 크게 낮추고 복잡성을 줄일 수 있는 업계 최고의 SaaS 기반 재해 복구(DRaaS) 솔루션을 제공합니다.  비용이 많이 드는 대체 인프라를 구입하고 구축할 필요가 없습니다.

운영 사이트에서 재해 복구 사이트로 블록 수준 복제를 통해 재해 복구를 구현하는 것은 랜섬웨어 공격과 같은 사이트 중단 및 데이터 손상 이벤트로부터 작업 부하를 보호하는 탄력적이고 비용 효율적인 방법입니다. NetApp SnapMirror 복제를 사용하면 NFS 또는 VMFS 데이터 저장소가 있는 온프레미스 ONTAP 시스템에서 실행되는 VMware 워크로드를 VMware가 배포된 지정된 복구 데이터 센터에 있는 다른 ONTAP 스토리지 시스템으로 복제할 수 있습니다.

NetApp BlueXP 콘솔에 통합된 BlueXP disaster recovery 서비스를 사용하면 고객이 온프레미스 VMware vCenter와 ONTAP 스토리지를 검색하고, 리소스 그룹을 만들고, 재해 복구 계획을 만들고, 이를 리소스 그룹과 연결하고, 장애 조치 및 장애 복구를 테스트하거나 실행할 수 있습니다.  SnapMirror 두 사이트를 증분적 변경 사항으로 최신 상태로 유지하기 위해 스토리지 수준 블록 복제를 제공하며, 이를 통해 최대 5분의 RPO를 달성합니다. 운영 및 복제된 데이터 저장소에 영향을 주거나 추가 저장 비용을 발생시키지 않고도 정기적인 훈련으로 DR 절차를 시뮬레이션할 수도 있습니다.  BlueXP disaster recovery ONTAP의 FlexClone 기술을 활용하여 DR 사이트에서 마지막으로 복제된 스냅샷에서 NFS 또는 VMFS 데이터 저장소의 공간 효율적인 복사본을 만듭니다.  DR 테스트가 완료되면 테스트 환경을 삭제하기만 하면 되며, 이 역시 실제 복제된 프로덕션 리소스에 아무런 영향을 미치지 않습니다. 실제 장애 조치(계획된 것이든 계획되지 않은 것이든)가 필요한 경우, 몇 번의 클릭만으로 BlueXP disaster recovery 서비스는 지정된 재해 복구 사이트에서 보호된 가상 머신을 자동으로 불러오는 데 필요한 모든 단계를 조율합니다. 이 서비스는 또한 SnapMirror 기본 사이트와의 관계를 역전시키고, 필요한 경우 장애 복구 작업을 위해 보조 사이트의 변경 사항을 기본 사이트로 복제합니다.  이러한 모든 것들은 다른 잘 알려진 대안과 비교했을 때 훨씬 저렴한 비용으로 달성할 수 있습니다.


NOTE: 복제 기능을 지원하는 타사 백업 제품과 SRA를 탑재한 VMware Live Recovery도 다른 주요 대안입니다.



==== 랜섬웨어

랜섬웨어를 가능한 한 일찍 감지하는 것은 확산을 막고 비용이 많이 드는 가동 중지 시간을 피하는 데 매우 중요합니다.  효과적인 랜섬웨어 탐지 전략에는 ESXi 호스트 및 게스트 VM 수준에서 여러 계층의 보호가 통합되어야 합니다.  랜섬웨어 공격에 대한 포괄적인 방어를 구축하기 위해 여러 가지 보안 조치가 구현되어 있지만, ONTAP 사용하면 전반적인 방어 방식에 더 많은 보호 계층을 추가할 수 있습니다.  몇 가지 기능을 꼽자면 스냅샷, 자율 랜섬웨어 보호, 변조 방지 스냅샷 등이 있습니다.

위에서 언급한 기능이 VMware와 함께 작동하여 랜섬웨어로부터 데이터를 보호하고 복구하는 방법을 살펴보겠습니다.

vSphere와 게스트 VM을 공격으로부터 보호하려면 세분화, 엔드포인트에 EDR/XDR/SIEM 활용, 보안 업데이트 설치, 적절한 강화 지침 준수 등 여러 가지 조치를 취하는 것이 필수적입니다.  데이터 저장소에 있는 각 가상 머신은 표준 운영 체제도 호스팅합니다.  다중 계층 랜섬웨어 보호 전략의 필수 구성 요소인 기업용 서버용 맬웨어 방지 제품군을 설치하고 정기적으로 업데이트하세요.  이와 함께 데이터 저장소에 전원을 공급하는 NFS 볼륨에서 ARP(자율 랜섬웨어 보호)를 활성화합니다.  ARP는 볼륨 워크로드 활동과 데이터 엔트로피를 살펴보는 내장된 온박스 ML을 활용하여 랜섬웨어를 자동으로 감지합니다.  ARP는 ONTAP 내장 관리 인터페이스나 시스템 관리자를 통해 구성할 수 있으며 볼륨별로 활성화됩니다.

다중 계층 접근 방식 외에도 백업 스냅샷 사본의 무단 삭제를 방지하기 위한 기본 내장 ONTAP 솔루션도 있습니다.  ONTAP 9.11.1 이상에서 사용할 수 있는 MAV(Multi-Admin Verification)로 알려져 있습니다.  이상적인 접근 방식은 MAV 특정 작업에 대한 쿼리를 사용하는 것입니다.


NOTE: 새로운 NetApp ARP/AI를 사용하면 학습 모드가 필요 없습니다.  대신 AI 기반 랜섬웨어 감지 기능으로 바로 활성 모드로 전환할 수 있습니다.



==== 핵심 요점

ONTAP One을 사용하면 추가 계층 역할을 하는 모든 보안 기능 세트가 완전히 무료입니다.  라이선스 장벽에 대한 걱정 없이 NetApp의 강력한 데이터 보호, 보안 및 ONTAP 제공하는 모든 기능을 이용하세요.



== 고려해야 할 VMware 대안

모든 조직에서는 멀티 벤더 하이퍼바이저 전략을 지원하는 멀티 하이퍼바이저 접근 방식을 평가하고 있으며, 이를 통해 운영 유연성을 강화하고, 벤더 종속성을 완화하며, 워크로드 배치를 최적화합니다.  여러 하이퍼바이저를 결합하면 조직은 비용을 관리하는 동시에 다양한 작업 부하 수요를 충족하도록 인프라를 맞춤화할 수 있습니다.  조직에서는 상호 운용성, 비용 효율적인 라이선싱, 자동화를 활용하여 다중 하이퍼바이저 관리를 간소화합니다.  ONTAP 은 모든 하이퍼바이저 플랫폼에 이상적인 플랫폼입니다.  이러한 접근 방식에서 가장 중요한 요구 사항은 SLA와 워크로드 배치 전략에 따른 동적 가상 머신 이동성입니다.



=== 다중 하이퍼바이저 도입을 위한 주요 고려 사항

* *전략적 비용 최적화:* 단일 공급업체에 대한 의존도를 낮추면 운영 및 라이선스 비용이 최적화됩니다.
* *작업 부하 분산:* 적절한 작업 부하에 적합한 하이퍼바이저를 배포하면 효율성이 극대화됩니다.
* *유연성:* 데이터 센터 현대화 및 통합과 함께 비즈니스 애플리케이션 요구 사항에 따라 VM 최적화를 지원합니다.


이 섹션에서는 조직에서 우선순위에 따라 고려하는 다양한 하이퍼바이저를 간략하게 요약해 보겠습니다.


NOTE: 이는 조직에서 고려하는 일반적인 대안 옵션이지만, 각 고객의 평가, 기술 세트 및 업무 요구 사항에 따라 우선순위가 다릅니다.

image:virt-options-002.png["NetApp 에서 지원하는 가상화 옵션 다이어그램"]



=== Hyper-V(Windows Server)

살펴보겠습니다.

* Windows Server 버전에 기본으로 제공되는 잘 알려진 기능입니다.
* Windows Server 내의 가상 머신에 대한 가상화 기능을 활성화합니다.
* Hyper-V는 System Center 제품군(SCVMM 및 SCOM 포함)의 기능과 통합되면 다른 가상화 솔루션에 필적하는 포괄적인 기능 세트를 제공합니다.




==== 통합

* NetApp SMI-S Provider System Center Virtual Machine Manager(SCVMM)와 함께 SAN과 NAS에 대한 동적 스토리지 관리를 통합합니다.
* 많은 타사 백업 파트너도 완벽하게 최적화된 어레이 기반 백업 및 복구를 위해 ONTAP 스냅샷과 SnapMirror 지원을 통합하는 것을 지원합니다.
* ONTAP 유연성과 스토리지 소비를 위해 SAN과 NAS 간에 기본 복사 오프로드를 허용하는 유일한 데이터 인프라 시스템으로 남아 있으며, ONTAP NAS(SMB/CIFS를 통한 SMB3 TRIM)와 SAN(SCSI UNMAP이 있는 iSCSI 및 FCP) 프로토콜 모두에서 기본 공간 회수를 제공합니다.
* 세분화된 백업 및 복구를 위한 SnapManager for Hyper-V (PVR 지원 필요).  Hyper-V는 다음과 같은 경우 실행 가능한 선택이 될 수 있습니다.
* 최근 새로운 하드웨어로 업그레이드했거나 온프레미스 인프라에 상당한 투자를 했습니다.
* 저장소로 SAN 또는 NAS 사용(Azure Stack HCI는 옵션이 아님)
* 하드웨어 투자, 정치적 환경, 규정 준수, 애플리케이션 개발 또는 기타 기존 장애물과 같은 요인으로 인해 현대화가 불가능하여 독립적으로 성장할 수 있는 스토리지 및 컴퓨팅이 필요합니다.




=== OpenShift 가상화(RedHat KubeVirt 구현)

살펴보겠습니다.

* KVM 하이퍼바이저를 사용하여 컨테이너에서 실행하고 Pod로 관리합니다.
* Kubernetes에서 예약, 배포 및 관리
* OpenShift 웹 인터페이스를 사용하여 가상 머신과 해당 리소스를 생성, 수정 및 삭제합니다.
* 지속적인 스토리지 패러다임을 위해 컨테이너 오케스트레이터 리소스 및 서비스와 통합되었습니다.




==== 통합

* Trident CSI를 사용하면 VM 단위로, 클래스 단위로 NFS, FC, iSCSI 및 NVMe/TCP를 통해 스토리지를 동적으로 관리할 수 있습니다.
* 프로비저닝, 스냅샷 생성, 볼륨 확장 및 복제본 생성을 위한 Trident CSI
* Trident Protect는 OpenShift Virtualization VM의 충돌 일관성 백업 및 복원을 지원하여 이를 모든 S3 호환 개체 스토리지 버킷에 저장합니다.
* Trident Protect는 또한 OpenShift Virtualization VM에 대한 스토리지 복제 및 자동 장애 조치(failover)와 장애 복구를 통해 재해 복구를 제공합니다.


OpenShift Virtualization은 다음과 같은 경우에 적합할 수 있습니다.

* 가상 머신과 컨테이너를 단일 플랫폼으로 통합합니다.
* OpenShift 가상화는 컨테이너 워크로드에 대해 이미 라이선스가 부여된 OpenShift의 일부이므로 라이선스 오버헤드를 줄일 수 있습니다.
* 첫날부터 전체 리팩토링 없이 기존 VM을 클라우드 네이티브 생태계로 옮깁니다.




=== Proxmox 가상 환경(Proxmox VE)

살펴보겠습니다.

* Qemu KVM 및 LXC를 위한 포괄적인 오픈 소스 가상화 플랫폼
* 리눅스 배포판인 데비안 기반
* 단독 기계로 작동하거나 여러 대의 기계로 구성된 클러스터로 작동할 수 있습니다.
* 가상 머신 및 컨테이너의 간편하고 효율적인 배포
* 사용자 친화적인 웹 기반 관리 인터페이스와 라이브 마이그레이션, 백업 옵션과 같은 기능을 제공합니다.




==== 통합

* iSCSI, NFS v3, v4.1 및 v4.2를 사용합니다.
* ONTAP 제공하는 빠른 복제, 스냅샷, 복제와 같은 모든 장점을 갖추고 있습니다.
* nconnect 옵션을 사용하면 높은 NFS 작업 부하의 경우 서버당 TCP 연결 수를 최대 16개까지 늘릴 수 있습니다.


다음과 같은 경우 Proxmox가 적합할 수 있습니다.

* 오픈 소스로 라이선스 비용이 없어집니다.
* 사용하기 쉬운 웹 인터페이스로 관리가 간소화됩니다.
* 가상 머신과 컨테이너를 모두 지원하여 유연성을 제공합니다.
* VM, 컨테이너, 스토리지 및 네트워킹을 관리하는 단일 인터페이스
* 제한 없이 모든 기능에 액세스
* Credativ를 통한 전문 서비스 및 지원




=== VMware Cloud 제품(Azure VMWare Solution, Google Cloud VMware Engine, VMware Cloud on AWS, Elastic VMware Service)

살펴보겠습니다.

* 클라우드 내 VMware는 전용 베어 메탈 인프라를 활용해 VMware 인프라를 호스팅하는 각각의 하이퍼스케일러 데이터 센터에 호스팅되는 "프라이빗 클라우드"를 제공합니다.
* vCenter, vSphere, vSAN 및 NSX를 포함한 VMware 기능을 사용하여 클러스터당 최대 16개의 호스트를 허용합니다.
* 빠른 배포 및 확장/축소
* 유연한 구매 옵션: 시간당 온디맨드, 1년 및 3년 예약 인스턴스가 제공되며, 특정 하이퍼스케일러에서는 5년 옵션도 이용 가능합니다.
* 온프레미스 VMware에서 클라우드의 VMware로 마이그레이션하는 데 도움이 되는 익숙한 도구와 프로세스를 제공합니다.




==== 통합


NOTE: NetApp 3대 주요 하이퍼스케일러 전반에 걸쳐 클라우드에서 VMware를 지원하는 1차 통합 고성능 스토리지를 제공하는 유일한 외부 스토리지 공급업체입니다.

* 각 클라우드의 NetApp 기반 스토리지(Azure NetApp Files, FSx for ONTAP, Google Cloud NetApp 볼륨)는 별도의 컴퓨팅 노드를 추가할 필요 없이 vSAN 스토리지를 보완합니다.
* 일관된 성능, 계량형 파일 저장 서비스
* 대규모로 복사본과 체크포인트 변경을 빠르게 생성하기 위한 효율적인 스냅샷 및 복제
* 지역 DR 및 백업을 위한 효율적인 증분형 블록 전송 기반 복제
* 스토리지 집약적 애플리케이션은 NetApp 기반 클라우드 스토리지를 데이터 저장소로 사용하여 실행하는 데 비용이 절감됩니다.
* 외부 데이터 저장소 연결 외에도 고성능 작업 부하를 위해 게스트가 관리하는 NFS 또는 iSCSI와 같은 게스트 소유 파일 시스템을 마운트하는 기능


VMware Cloud 제품으로 마이그레이션해야 하는 이유:

* 스토리지 집약적 배포는 더 많은 컴퓨팅 노드를 추가하는 대신 스토리지 용량을 오프로드하여 비용을 절감합니다.
* Hyper-V, Azure Stack 또는 잠재적으로 네이티브 VM 형식으로 전환하는 것과 비교했을 때 업그레이드가 덜 필요합니다.
* 최대 3년 또는 5년(클라우드 공급업체에 따라 다름) 동안 다른 라이선스 비용의 변경에 영향을 받지 않는 가격을 고정합니다.
* BYOL(자체 라이선스 사용) 적용 범위 제공
* 온프레미스에서 리프트 앤 시프트 방식으로 작업을 수행하면 주요 분야의 비용을 잠재적으로 낮추는 데 도움이 됩니다.
* 재해 복구 기능을 클라우드로 구축하거나 전환하여 비용을 절감하고 운영 부담을 제거하세요.


재해 복구 대상으로 하이퍼스케일러에서 VMware Cloud를 사용하려는 고객의 경우 ONTAP 스토리지 기반 데이터 저장소(Azure NetApp Files, FSx ONTAP, Google Cloud NetApp 볼륨)를 사용하면 VM 복제 기능을 제공하는 검증된 타사 솔루션을 사용하여 온프레미스에서 데이터를 복제할 수 있습니다.  ONTAP 스토리지 기반 데이터스토어를 추가하면 더 적은 수의 ESXi 호스트로 대상에서 비용 최적화된 재해 복구가 가능해집니다.  이를 통해 온프레미스 환경에서 보조 사이트를 폐기하여 상당한 비용 절감이 가능해졌습니다.

* 자세한 지침을 보려면link:https://docs.netapp.com/us-en/netapp-solutions-cloud/vmware/vmw-aws-fsxn-vmc-ds-dr-veeam.html["FSx ONTAP 데이터 저장소로의 재해 복구"^] .
* 자세한 지침을 보려면link:https://docs.netapp.com/us-en/netapp-solutions-cloud/vmware/vmw-azure-avs-dr-jetstream.html["Azure NetApp Files 데이터 저장소로의 재해 복구"^] .
* 자세한 지침을 보려면link:https://docs.netapp.com/us-en/netapp-solutions-cloud/vmware/vmw-gcp-gcve-app-dr-ds-veeam.html["Google Cloud NetApp Volumes 데이터 저장소로의 재해 복구"^] .




=== 클라우드 네이티브 가상 머신


NOTE: NetApp 3대 주요 하이퍼스케일러 전반에 걸쳐 클라우드에서 퍼스트 파티 통합 고성능 멀티 프로토콜 스토리지를 제공하는 유일한 공급업체입니다.

살펴보겠습니다.

* 유연한 가상 머신 크기로 컴퓨팅 리소스를 최적화하여 특정 비즈니스 요구 사항을 충족하고 불필요한 비용을 없애세요.
* 클라우드의 유연성을 통해 미래로의 원활한 전환을 실현하세요.  NetApp 기반 스토리지를 사용하여 클라우드 네이티브 가상 머신으로 마이그레이션해야 하는 이유:
* 씬 프로비저닝, 스토리지 효율성, 제로 풋프린트 복제, 통합 백업, 블록 수준 복제, 계층화와 같은 엔터프라이즈 스토리지 기능을 활용하여 마이그레이션 작업을 최적화하고 첫날부터 미래 지향적인 배포를 확보하십시오.
* ONTAP 통합하고 제공하는 비용 최적화 기능을 사용하여 클라우드 내 네이티브 클라우드 인스턴스에서 사용되는 현재 스토리지 배포를 최적화합니다.
* 비용 절감 능력
+
** ONTAP 데이터 관리 기술 사용
** 다양한 리소스에 대한 예약을 통해
** 버스트 가능 및 스팟 가상 머신을 통해


* AI/ML과 같은 최신 기술을 활용하세요
* 필요한 IOP 및 처리량 매개변수를 충족하도록 클라우드 인스턴스의 크기를 조정하여 블록 스토리지 솔루션에 비해 인스턴스 총 소유 비용(TCO)을 줄입니다.




=== Azure Local 또는 AWS Outpost 또는 기타 HCI 모델

살펴보겠습니다.

* 검증된 솔루션에서 실행됩니다
* 하이브리드 또는 멀티 클라우드의 핵심 역할을 하기 위해 사내에 구축할 수 있는 패키지 솔루션입니다.
* 온프레미스, 클라우드 또는 하이브리드 등 모든 환경에 맞춤형 클라우드 인프라, 서비스, API 및 도구에 대한 액세스를 사용자에게 제공합니다.



NOTE: HCI 호환 하드웨어를 보유하거나 임대/구매해야 합니다.


NOTE: Azure 로컬은 외부 스토리지를 지원하지 않지만 AWS Outpost는 ONTAP 지원합니다.

Azure Local 또는 AWS Outpost로 마이그레이션해야 하는 이유:

* HCI 호환 하드웨어가 이미 소유된 경우
* 작업 실행 및 데이터 저장을 제어합니다.
* 각 서비스, 도구 및 API를 사용하여 로컬 데이터 레지던시를 충족하고 로컬 지역에서 데이터를 처리합니다.
* 게스트 VM의 iSCSI, NFS 및 SMB 연결을 위해 게스트 연결 스토리지를 사용합니다.


단점:

* 모든 옵션이 SAN, NAS 또는 독립형 스토리지 구성을 지원하는 것은 아닙니다.
* 스토리지 및 컴퓨팅의 독립적인 확장을 지원하지 않습니다.




=== 고객 환경에서 고려 중인 기타 하이퍼바이저 옵션

* *KVM*은 일반적으로 상위 Linux 배포판에 따라 ONTAP 에서 지원됩니다. 참조 Linux에 대한 내용은 IMT 참조하세요.
* *SUSE Harvester*는 Linux, KVM, Kubernetes, KubeVirt, Longhorn을 포함한 엔터프라이즈급 오픈소스 기술을 사용하여 베어 메탈 서버용으로 구축된 최신 하이퍼컨버지드 인프라(HCI) 솔루션입니다.  데이터 센터와 엣지에서 클라우드 기반 및 가상 머신(VM) 워크로드를 실행하기 위한 유연하고 저렴한 솔루션을 찾는 사용자를 위해 설계된 Harvester는 가상화 및 클라우드 기반 워크로드 관리를 위한 단일 창을 제공합니다.  NetApp Astra Trident CSI 드라이버를 Harvester 클러스터에 추가하면 NetApp 스토리지 시스템이 Harvester에서 실행되는 가상 머신에서 사용 가능한 스토리지 볼륨을 저장할 수 있습니다.
* *Red Hat OpenStack Platform*과 OpenStack은 일반적으로 놀라운 프라이빗 클라우드 솔루션이며 NetApp Unified Driver가 업스트림 OpenStack 코드에 내장되어 있다는 것은 NetApp 데이터 관리 통합이 내장되어 있다는 것을 의미합니다. 즉, 아무것도 설치할 필요가 없습니다!  스토리지 관리 기능은 블록 프로토콜의 경우 NVMe, iSCSI 또는 FC를 지원하고 NAS의 경우 NFS를 지원합니다.  씬 프로비저닝, 동적 스토리지 관리, 복사 오프로드 및 스냅샷은 모두 기본적으로 지원됩니다.




==== 핵심 요점

ONTAP 은 온프레미스의 모든 하이퍼바이저나 클라우드의 모든 워크로드에 적합한 플랫폼입니다.  ONTAP 온프레미스 환경에서 주요 하이퍼바이저를 지원하며 각 클라우드에서 널리 채택된 퍼스트 파티 제품을 제공합니다.  이를 통해 고객은 적절한 배포 모델을 탐색하여 라이선스 변경을 쉽게 처리할 수 있습니다.

image:virt-options-003.png["가상화를 위한 NetApp의 Any to Any 접근 방식을 보여주는 다이어그램"]

요약하자면, VMware는 여전히 기업을 위한 사실상의 하이퍼바이저로 남아 있습니다.  하지만 모든 IT 조직은 대체 옵션을 평가하고 있으며 ONTAP 이들이 선택하는 모든 옵션에서 중요한 역할을 할 것입니다.



== Wicked Fast(100배 더 빠름) 마이그레이션



=== 시프트 툴킷

위에서 설명한 대로 VMware, Microsoft Hyper-V, Proxmox, OpenShift Virtualization과 같은 솔루션은 가상화 요구 사항에 대한 강력하고 안정적인 선택이 되었습니다.  비즈니스 요구 사항이 역동적이기 때문에 가상화 플랫폼을 선택하는 것도 적응성이 있어야 하며, 즉각적인 가상 머신 이동성이 중요해집니다.

한 하이퍼바이저에서 다른 하이퍼바이저로 마이그레이션하려면 기업이 복잡한 의사 결정 과정을 거쳐야 합니다.  주요 고려 사항으로는 애플리케이션 종속성, 마이그레이션 타임라인, 워크로드 중요도, 애플리케이션 가동 중지가 비즈니스에 미치는 영향 등이 있습니다.  하지만 ONTAP 스토리지와 Shift 툴킷을 사용하면 아주 쉽습니다.

NetApp Shift 툴킷은 서로 다른 하이퍼바이저 간에 가상 머신(VM)을 마이그레이션하고 가상 디스크 형식을 변환할 수 있는 사용하기 쉬운 그래픽 사용자 인터페이스(GUI) 솔루션입니다.  NetApp FlexClone 기술을 활용하여 VM 하드 디스크를 빠르게 변환합니다.  또한, 툴킷은 대상 VM의 생성과 구성을 관리합니다.

자세한 내용은 다음을 참조하세요.link:../migration/shift-toolkit-overview.html["가상화 환경 간 가상 머신(VM) 마이그레이션(Shift Toolkit)"] .

image:virt-options-004.png["NetApp Shift Toolkit 변환 옵션을 보여주는 다이어그램"]


NOTE: Shift 툴킷을 사용하기 위한 전제 조건은 ONTAP 스토리지에 있는 NFS 볼륨에서 실행되는 VM을 갖는 것입니다.  즉, VM이 블록 기반 ONTAP 스토리지(특히 ASA) 또는 타사 스토리지에 호스팅되는 경우 Storage vMotion을 사용하여 VM을 지정된 ONTAP 기반 NFS 데이터 저장소로 이동해야 합니다.  Shift 툴킷은 여기에서 다운로드할 수 있으며 Windows 시스템에서만 사용할 수 있습니다.



=== 시러스 데이터 마이그레이트옵스

Shift 툴킷의 대안은 블록 수준 복제를 기반으로 하는 파트너 기반 솔루션입니다.  Cirrus Data는 기존 하이퍼바이저에서 최신 플랫폼으로 워크로드를 원활하게 마이그레이션하여 보다 유연한 하이브리드 워크로드, 가속화된 현대화 작업, 향상된 리소스 활용도를 제공합니다. link:https://action.cirrusdata.com/virtualization-optimization#:~:text=Migrate%20from%20leading%20hypervisors%20with%20just%20a%20click.,from%20Amazon%20Web%20Services%20%28AWS%29%20and%20Microsoft%20Azure.["Cirrus Migrate Cloud"] MigrateOps와 함께 사용하면 조직이 안전하고 사용하기 쉬우며 안정적인 솔루션을 통해 한 하이퍼바이저에서 다른 하이퍼바이저로의 변경을 자동화할 수 있습니다.

*중요 사항:* VMware에서 다른 하이퍼바이저로 VM을 마이그레이션하는 데에는 여러 가지 대안이 있습니다.  몇 가지 예를 들자면 Veeam, Commvault, StarWind, SCVMM 등이 있습니다.  여기서의 목적은 가능한 옵션을 소개하는 것이지만, Shift 툴킷은 훨씬 더 빠른 마이그레이션 옵션을 제공할 것입니다.  시나리오에 따라 대체 마이그레이션 옵션을 채택할 수 있습니다.



== 공통 프로젝트 배포 모델(멀티 하이퍼바이저 환경)

한 고객은 10,000개의 VM(Windows와 Linux 워크로드 혼합)을 갖춘 대규모 가상화 환경을 보유하고 있었습니다.  라이선스 비용을 최적화하고 가상화 인프라의 미래를 단순화하기 위해서는 멀티 하이퍼바이저와 가상 머신 배치 전략이 중요했습니다.  그들은 작업 부하의 중요도, 운영 체제 유형, 성능 요구 사항, 하이퍼바이저 기능 및 라이선스 비용을 기반으로 VM 배치 전략을 선택했습니다.

조직 전략은 세 개의 하이퍼바이저로 나뉘었습니다.

* VMware vSphere → 비즈니스에 중요한 애플리케이션을 지원하는 중요 워크로드는 VMware에 유지됩니다.
* Microsoft Hyper-V → 5,000개의 Windows VM이 Windows 라이선스 혜택을 활용하여 Hyper-V로 마이그레이션
* OpenShift Virtualization → 3,000개의 Linux VM이 비용 효율성과 Kubernetes 기반 관리를 위해 여기로 마이그레이션되었습니다.


이러한 멀티 하이퍼바이저 방식은 비용, 성능, 유연성의 균형을 맞춰 중요한 워크로드가 VMware에 남아 있는 동시에 Windows 및 Linux 워크로드가 효율성과 확장성을 위해 Shift 툴킷을 사용하여 최적화된 하이퍼바이저 플랫폼으로 마이그레이션되도록 보장합니다.  위의 내용은 한 가지 예일 뿐이지만, 각 애플리케이션 수준에서 환경을 최적화하기 위해 적용할 수 있는 다양한 순열과 조합이 있습니다.



== 결론

Broadcom 인수 이후 VMware 고객은 통합, 성능 최적화, 비용 관리의 복잡한 환경을 헤쳐나가고 있습니다.  NetApp 이러한 과제를 극복할 수 있는 강력한 도구와 기능 모음을 제공하여 가시성을 높이고, 원활한 통합, 비용 효율성, 견고한 보안을 제공합니다.  이러한 기능을 사용하면 VMware를 계속 사용하고, 여러 공급업체의 접근 방식을 활용하고, 향후 발생할 수 있는 중단에 대비할 수 있습니다.

VMware Cloud Foundation 5.2.1 이상을 활용하면 기업은 vSAN에 국한되지 않고 최신 프라이빗 클라우드 방식을 도입할 수 있습니다.  이를 통해 ONTAP 스토리지에 대한 투자를 보호하는 동시에 기존 vSphere 환경에서 원활하게 마이그레이션할 수 있습니다.

더욱이, 멀티 하이퍼바이저 전략을 통합하면 조직이 가상화 로드맵에 대한 제어권을 유지하고, 비용을 절감하고, 각 작업 부하의 고유한 요구 사항에 맞게 인프라를 조정할 수 있습니다.  Hyper-V, OpenShift Virtualization, Proxmox, KVM은 각각 고유한 장점을 제공합니다.  가장 적합한 솔루션을 결정하려면 예산, 기존 인프라, 성능 요구 사항, 지원 요구 사항 등의 요소를 평가하세요.  어떤 하이퍼바이저 플랫폼을 선택하든, 온프레미스든 클라우드든 어디에 있든 ONTAP 이 최고의 스토리지입니다.
