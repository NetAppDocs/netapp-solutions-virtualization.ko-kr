---
sidebar: sidebar 
permalink: migration/shift-toolkit-settings.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary: Shift Toolkit에서 고급 설정을 구성하여 CredSSP 인증을 관리하고, 로깅 및 디버깅을 활성화하고, REST API에 액세스하고, 마이그레이션 작업에 대한 이메일 알림을 설정합니다. 
---
= Shift Toolkit에서 고급 설정 구성
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Shift Toolkit에서 고급 설정을 구성하여 CredSSP 인증을 관리하고, 로깅 및 디버깅을 활성화하고, REST API에 액세스하고, 마이그레이션 작업에 대한 이메일 알림을 설정합니다.

상단 도구 모음에서 *설정* 아이콘을 클릭하여 고급 설정에 액세스하세요.

image::shift-toolkit-250.png[Shift Toolkit 도구 모음의 설정 아이콘]



== 자격 증명 보안 서비스 제공업체(CredSSP)

Shift Toolkit은 CredSSP(Credential Security Service Provider)를 사용하여 변환 프로세스 중에 자격 증명 전송을 관리합니다.  Shift 서버는 변환되는 VM의 게스트 운영 체제에서 스크립트를 실행하여 Hyper-V 서버를 거쳐 Shift 서버에서 게스트 OS로 "더블홉"을 통해 자격 증명을 전달합니다.

image::shift-toolkit-251.png[CredSSP 구성 설정]



=== Shift 서버를 CredSSP 클라이언트로 구성

고급 설정 마법사는 Shift 서버를 CredSSP 클라이언트로 자동 구성하여 Hyper-V 서버에 자격 증명을 위임할 수 있도록 합니다.



==== 비하인드 스토리

Shift Toolkit은 다음 명령과 정책 구성을 실행하여 자신을 클라이언트로 설정합니다.

*실행된 명령:*

* `Set-Item WSMan:\localhost\Client\TrustedHosts -Value "fqdn-of-hyper-v-host"`
* `Enable-WSManCredSSP -Role client -DelegateComputer "fqdn-of-hyper-v-host"`


*그룹 정책이 구성됨:*

* 컴퓨터 구성 > 관리 템플릿 > 시스템 > 자격 증명 위임 > NTLM 전용 서버 인증을 사용하여 새 자격 증명 위임 허용
+
이 정책을 활성화하고 추가하세요 `wsman/fqdn-of-hyper-v-host` .





=== Hyper-V 서버를 CredSSP 서버로 구성

사용하다 `Enable-WSManCredSSP` Hyper-V 서버에서 cmdlet을 사용하여 CredSSP 서버로 구성하면 Shift 서버에서 자격 증명을 받을 수 있습니다.

.단계
. Shift Toolkit 서버에서 VM을 프로비저닝할 Hyper-V 호스트에서 관리자 권한으로 Windows PowerShell 세션을 엽니다.
. 다음 명령을 실행하세요.
+
[listing]
----
Enable-PSRemoting
Enable-WSManCredSSP -Role server
----




== 로깅 및 디버깅

Shift Toolkit에는 30일 보관 기간이 있는 기본 로깅이 포함되어 있습니다.  문제 해결을 위해 지원팀에 요청하면 로깅을 디버그 모드로 전환할 수 있습니다.

image::shift-toolkit-252.png[로깅 구성 설정]



== 멋진

고급 설정의 Swagger 페이지를 사용하면 Shift Toolkit REST API와 상호 작용할 수 있습니다.

image::shift-toolkit-253.png[Swagger API 문서 인터페이스]

Shift Toolkit REST API는 마이그레이션, 변환 및 자동화 기능에 대한 프로그래밍 방식 액세스를 제공합니다.  API는 기능적 워크플로별로 구성되어 있어 특정 작업에 필요한 리소스를 빠르게 찾을 수 있습니다.

image::shift-toolkit-254.png[API 리소스 범주]



=== 인증 및 설정 API

이러한 API를 사용하여 Shift Toolkit 서버에 대한 연결을 설정하고, 사용자를 관리하고, 인증을 구성합니다.

*세션*

API 요청에 대한 사용자 인증을 관리하고 승인 토큰을 얻습니다.

* 세션을 시작하세요
* 세션 검증
* 모든 세션 ID 가져오기
* 세션 종료


*사용자*

사용자 계정 및 권한 관리:

* 사용자 추가
* 모든 사용자 가져오기
* 사용자 비밀번호 변경
* EULA에 동의하세요


*크레딧SSP*

자격 증명 위임을 위한 자격 증명 보안 서비스 공급자 구성:

* CredSSP 활성화
* CredSSP 상태 받기


*커넥터*

인프라 구성 요소에 대한 연결 관리:

* 커넥터 추가
* 모든 커넥터의 세부 정보를 얻으세요
* ID로 커넥터 세부 정보 업데이트
* ID로 커넥터 세부 정보 가져오기


*거주자*

다중 테넌트 구성 관리:

* 세입자 추가
* 모든 세입자를 얻으세요




=== 인프라 관리 API

이러한 API를 사용하여 소스 및 대상 환경을 구성하고 검색하세요.

*대지*

마이그레이션 사이트와 관련 가상 및 스토리지 환경을 관리합니다.

* 사이트 수를 구하세요
* 모든 사이트 세부 정보 가져오기
* 사이트 추가
* ID로 사이트 세부 정보 가져오기
* ID로 사이트 삭제
* 사이트에 가상 환경 추가
* 사이트에 저장 환경 추가
* 사이트의 가상 환경 세부 정보 가져오기
* 사이트의 가상 환경 세부 정보 업데이트
* 사이트의 가상 환경 세부 정보 삭제
* 사이트의 저장 환경 세부 정보 가져오기
* 사이트의 스토리지 환경 세부 정보 업데이트
* 사이트의 스토리지 환경 세부 정보 삭제


*발견*

소스 및 대상 사이트에서 VM과 리소스를 검색하고 인벤토리를 작성합니다.

* 소스 사이트 검색
* 소스 사이트에 대한 모든 검색 요청을 받습니다.
* 타겟 사이트를 발견하세요
* 대상 사이트에 대한 모든 검색 요청을 가져옵니다.
* ID로 소스 사이트에 대한 검색 단계 가져오기
* ID로 대상 사이트의 검색 단계 가져오기




=== VM 및 리소스 관리 API

이러한 API를 사용하여 마이그레이션을 위한 VM 및 리소스의 인벤토리를 작성, 구성 및 관리합니다.

*VM*

가상 머신 쿼리 및 관리:

* 소스에서 사이트 및 가상 환경에 대한 VM 가져오기
* 사이트 및 가상 환경에 대한 보호되지 않은 VM 가져오기
* VM 개수 가져오기
* 보호된 VM 수 가져오기


*의지*

리소스 활용도 및 가용성 보기:

* 사이트 및 가상 환경에 대한 리소스 세부 정보 가져오기
* 소스 사이트 리소스 수 가져오기


*리소스 그룹*

마이그레이션을 위해 VM을 보호 그룹으로 구성합니다.

* 보호 그룹 수를 얻으세요
* 모든 보호 그룹 세부 정보를 얻으세요
* 보호 그룹 추가
* ID로 보호 그룹 세부 정보 가져오기
* ID로 보호 그룹 삭제
* ID로 보호 그룹 세부 정보 업데이트
* ID로 보호 그룹의 VM 가져오기
* 보호 그룹이 포함된 청사진을 얻으세요




=== 마이그레이션 및 복구 API

이러한 API를 사용하여 마이그레이션을 실행하고, 규정 준수를 모니터링하고, 복구 작업을 관리하세요.

*청사진*

마이그레이션 청사진 정의 및 관리:

* 청사진 개수 가져오기
* 모든 청사진 세부 정보를 얻으세요
* 청사진 추가
* ID로 청사진 세부 정보 가져오기
* ID로 청사진 삭제
* ID에 대한 청사진 세부 정보 업데이트
* 청사진의 VM을 가져옵니다
* 블루프린트에 있는 VM의 전원 상태를 가져옵니다.


*규정 준수*

마이그레이션 전에 준비 상태와 호환성을 확인하세요.

* 청사진에 대한 규정 준수 검사 결과 받기
* 청사진에 대한 규정 준수 검사 최종 상태 확인
* 청사진에 대한 주문형 규정 준수 확인 추가


*실행*

마이그레이션 및 변환 작업 실행을 모니터링합니다.

* 모든 실행 세부 정보를 얻으세요
* 진행 중인 실행에 대한 세부 정보를 얻으세요
* 실행 횟수 가져오기
* 진행 중인 실행 횟수 가져오기
* 실행 ID에 대한 단계 가져오기


*회복*

마이그레이션 및 복구 작업을 실행하고 관리합니다.

* 청사진에 대한 새로운 실행 요청 추가
* 청사진에 대한 실행 재시도 요청 추가
* 모든 청사진의 실행 상태를 가져옵니다.
* 블루프린트 ID에 대한 실행 상태 가져오기




=== 자동화 API

이러한 API를 사용하여 Shift Toolkit 기능을 확장하고 자동화하세요.

*스크립트 블록*

자동화 스크립트에 액세스하고 실행합니다.

* 모든 스크립트 메타데이터 가져오기
* ID로 스크립트 메타데이터 가져오기
* 모든 새로 고침 메타데이터 가져오기
* 스크립트 실행




== 스크립트 블록 및 자동화

Shift Toolkit 내의 스크립트 블록은 내부 및 외부 API를 사용하여 기능을 자동화, 통합 및 개발하는 데 도움이 되는 샘플 코드를 제공합니다.  Shift Toolkit 자동화 팀과 커뮤니티 멤버가 작성한 코드 샘플 섹션에서 샘플을 탐색하고 다운로드하세요.  이러한 샘플을 사용하여 자동화, 관리 또는 통합 작업을 시작하세요.

image::shift-toolkit-255.png[스크립트 블록 인터페이스]

image::shift-toolkit-256.png[사용 가능한 코드 샘플]

다음 예제에서는 Shift Toolkit UI 내에서 특정 작업을 삭제하는 PowerShell 스크립트를 보여줍니다.  이 기능은 표준 워크플로를 통해서는 제공되지 않지만 스크립트 블록을 사용하여 구현할 수 있습니다.  이 스크립트는 쉽게 다운로드하여 실행할 수 있는 일괄 스크립트로도 제공됩니다.

image::shift-toolkit-257.png[작업 삭제를 위한 PowerShell 스크립트 예시]

스크립트 블록의 목적은 Shift Toolkit API와 해당 하이퍼바이저에서 게시한 API를 사용하여 특정 하이퍼바이저에서 0일차 및 진행 중인 작업에 대한 샘플 스크립트를 제공하는 것입니다.

스크립트 블록의 목적은 Shift Toolkit API와 해당 하이퍼바이저에서 게시한 API를 사용하여 특정 하이퍼바이저에서 0일차 및 진행 중인 작업에 대한 샘플 스크립트를 제공하는 것입니다.



== 이메일 알림 및 경고

검색, 변환 또는 마이그레이션 작업에 대한 알림을 지정된 수신자에게 보내도록 이메일 알림을 구성합니다.  UI 알림(인터페이스 내 알림)도 사용 가능하며 7일 동안 저장됩니다.

설정 > 플랫폼 설정 > 이메일 구성에서 이메일 알림 설정에 액세스하세요.

.단계
. Shift Toolkit UI에 로그인합니다.
. 설정 > 플랫폼 설정으로 이동합니다.
. 이메일 알림 선택 및 SMTP 세부 정보 업데이트:
+
** SMTP 서버 주소
** 포트
** 사용자 이름
** 비밀번호


. 수신자 필드를 업데이트하고 사용 가능한 카테고리에서 이벤트를 선택하세요.
. *적용*을 클릭하세요.


image::shift-toolkit-258.png[이메일 알림 구성 설정]

스크린샷은 각 알림 범주와 이벤트에 대한 세부 정보를 보여줍니다.


NOTE: 이 릴리스에서는 이메일 알림에 기본 SMTP 인증과 SendGrid가 사용됩니다.  향후 릴리스에서는 최신 인증을 지원할 예정입니다.


NOTE: 이 릴리스에서는 이메일 알림에 기본 SMTP 인증과 SendGrid가 사용됩니다.  향후 릴리스에서는 최신 인증을 지원할 예정입니다.



== 중단 및 되돌리기 기능

Shift Toolkit은 워크플로 내의 모든 단계에서 실행 중인 작업을 취소하는 옵션을 제공합니다.  작업이 취소되면 다음을 포함하여 모든 버려진 구성 요소가 자동으로 정리됩니다.

* 하이퍼바이저에서 전원이 켜져 있는 경우 VM 전원 끄기
* 적절한 Qtree에서 디스크 항목 제거
* 영구 볼륨 클레임(PVC) 삭제


Shift Toolkit은 소스 VM을 어떤 식으로도 수정하지 않으므로 롤백이 간단합니다. 소스 VM의 전원을 켜기만 하면 됩니다.  다른 롤백 작업은 필요하지 않습니다.
