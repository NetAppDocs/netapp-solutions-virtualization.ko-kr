---
sidebar: sidebar 
permalink: migration/shift-toolkit-install.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= ONTAP 스토리지용 NetApp Shift Toolkit 설치
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
온라인 또는 오프라인 설치 옵션을 사용하여 Windows 운영 체제를 실행하는 전용 VM에 Shift Toolkit을 설치합니다.  이 프로세스에는 설치 요구 사항 검토, ONTAP 스토리지 가상 머신(SVM), qtree, CIFS 공유 구성, 설치 패키지 다운로드, 설치 프로그램 실행이 포함됩니다.



== 설치 준비

툴킷을 시작하려면 지정된 가상 머신에서 Windows 운영 체제를 사용하고 필수 구성 요소를 충족하는지 확인한 다음 패키지를 설치하세요.

Shift 툴킷은 Windows 2019, 2022, 2025 버전에서 실행할 수 있습니다.  Shift 툴킷 패키지를 다운로드하세요link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["NetApp 툴체스트"] 그런 다음 패키지의 압축을 풀고 exe를 실행하여 서비스를 설치하고 시작합니다.  Shift 툴킷은 온라인(약 130MB 크기)과 오프라인(약 1.2GB 크기)의 두 가지 패키지를 제공합니다.  이름에서 알 수 있듯이 온라인 설치 패키지는 인터넷에서 필요한 사전 요구 사항을 다운로드하여 설치합니다.

image::shift-toolkit-010.png[Shift Toolkit 다운로드 선택을 보여주는 다이어그램]

온라인 설치는 편리하지만, 오프라인 설치는 설치 과정을 더 많이 제어할 수 있습니다.  오프라인 설치 패키지를 사용하면 Shift 툴킷을 설치하는 데 필요한 모든 사전 요구 사항이 패키지에 포함되어 있습니다.  오프라인 설치의 주요 장점 중 하나는 인터넷에 연결하지 않고도 가상 머신에 Shift 툴킷을 설치할 수 있다는 것입니다.

팁: 배포에 적합한 패키지를 사용하세요. 오프라인 모드에서는 모든 필수 구성 요소와 필수 파일이 포함되어 있으므로 프록시 설정을 수정할 필요가 없습니다.

Shift 툴킷은 소스 환경과 대상 환경 간에 연결이 있는 한 VMware 또는 Microsoft Hyper-V 서버를 실행하는 가상 머신에 설치할 수 있으며, Shift 툴킷을 별도의 VM에 설치하는 것이 가장 좋습니다.  이 접근 방식을 사용하면 단일 Shift 툴킷 서버로 다양한 Microsoft Hyper-V 서버 또는 VMware ESXi 서버를 타겟팅할 수 있습니다.

참고: 전용 VM에 Shift 툴킷을 설치하세요.



== 필수 조건



=== 하드웨어 요구 사항

Shift 서버 호스트가 최소 하드웨어 요구 사항을 충족하는지 확인하세요.

* CPU – 4개의 vCPU
* 메모리 – 최소 8GB
* 디스크 공간 – 최소 100GB


참고: 설치하려면 900MB의 디스크 공간이 필요합니다.



=== 연결 요구 사항

* Shift 툴킷이 환경의 모든 구성 요소와 적절하게 상호 작용할 수 있도록 하이퍼바이저와 스토리지 환경이 구성되어 있는지 확인하세요.
* Shift 툴킷은 독립형 Windows 서버(물리적 또는 가상)에 설치해야 합니다.
* Hyper-V 기반 마이그레이션의 경우 Shift 서버, Data ONTAP CIFS 서버 및 Hyper-V 서버는 동일한 Windows Active Directory 도메인에 있어야 합니다.
* Storage Virtual Machine에서 VM 변환을 수행할 때 CIFS 및 NFS용 여러 LIF를 사용할 수 있습니다. Hyper-V 서버와 ESXi 호스트는 이러한 LIF의 IP 주소를 사용하여 SVM(스토리지 가상 머신)에 액세스합니다.
* CIFS 작업의 경우 Windows 도메인 컨트롤러와 NetApp 스토리지 컨트롤러의 시간 설정을 동기화해야 합니다.




=== ONTAP 스토리지 구성



==== 새로운 SVM 만들기(권장)

Shift 툴킷을 사용하면 기존 SVM을 사용할 수 있지만 NetApp 새로운 SVM을 만드는 것이 가장 좋습니다.  Storage vMotion을 사용하여 전용 Data ONTAP 스토리지 가상 머신(SVM)에 있는 새로운 지정 NFS v3 데이터 저장소로 마이그레이션 또는 변환할 VM을 이동합니다.  이 svmotion 기반 마이그레이션은 VM의 가동 중지 시간 없이 수행됩니다.  이 접근 방식을 사용하면 마이그레이션하도록 지정된 VM이 프로덕션 SVM에 상주하지 않습니다.  ONTAP CLI, NetApp PowerShell 툴킷 또는 System Manager를 사용하여 새로운 SVM을 만듭니다.

이 링크에 제공된 단계에 따라 NFS와 SMB 프로토콜을 모두 허용하는 새로운 SVM을 프로비저닝하세요.

참고: 운영 중인 SVM을 방해가 될 수 있는 방식으로 수정하지 않고도 SVM이 Shift 툴킷 요구 사항을 충족하는지 확인하려면 새로운 SVM을 만드는 것이 좋습니다.

참고: VMware에서 Hyper-V로 양방향 마이그레이션을 수행하려면 새 SVM에서 NFS와 SMB 프로토콜을 모두 활성화해야 합니다. 프로비저닝된 볼륨에는 NFS와 SMB가 모두 활성화되어 있어야 합니다.



==== Qtree 요구 사항

VMware에서 Hyper-V로 변환할 VM을 호스팅하는 데 사용될 볼륨에 qtree를 생성하여 VHDX 파일이나 VMDK에서 변환될 qcow2 또는 VHDX 파일을 분리하고 저장해야 합니다.

* ESX에서 Hyper-V로 변환하는 경우 Shift 툴킷은 변환된 VHDX를 동일한 볼륨 내의 qtree(NTFS 보안 스타일)에 배치합니다.
* Hyper-V에서 ESX로 변환하는 경우 Shift 툴킷은 변환된 VMDK를 동일한 볼륨 내의 qtree(UNIX 보안 스타일)에 배치합니다.
* ESX VMDK에서 QCOW2로 변환하는 경우 UNIX 보안 스타일을 적용한 qtree를 사용해야 합니다.
* ESX VMDK에서 RAW로 변환하는 경우 UNIX 보안 스타일을 적용한 qtree를 사용해야 합니다.


Shift 툴킷은 qtree의 보안 스타일을 검증하지 않습니다.  따라서 대상 하이퍼바이저와 디스크 유형에 따라 적절한 보안 스타일을 갖춘 Qtree를 만드는 것이 중요합니다.

참고: 대상 경로는 소스 VM과 동일한 볼륨에 있어야 합니다.

참고: 대상 하이퍼바이저 유형 및 디스크 형식에 따라 qtree에 올바른 보안 스타일을 할당하세요.

참고: 변환된 qcow2 파일을 OpenShift 가상화와 함께 사용할 경우 예외가 있습니다. 이러한 파일은 qtree를 활용하지 않고도 볼륨에 직접 배치할 수 있습니다.  이를 달성하려면 Shift 툴킷 GUI를 사용하거나 Shift 툴킷 API를 활용하여 VMDK 파일을 qcow2 형식으로 변환하고 볼륨 내에 직접 배치합니다.

image::shift-toolkit-011.png[마이그레이션 유형에 따라 생성할 q-트리 유형의 다이어그램]

여기에 제공된 단계를 따르세요link:https://docs.netapp.com/us-en/ontap/nfs-config/create-qtree-task.html["링크"] 올바른 보안 스타일로 qtree를 생성합니다.

image::shift-toolkit-012.png[생성할 Q-트리 유형을 보여주는 대화 상자]



==== CIFS 공유 요구 사항

Hyper-V 마이그레이션의 경우 변환된 VM 데이터가 저장될 공유를 만듭니다. NFS 공유(변환할 VM을 저장하는 데 사용)와 대상 공유(변환된 VM을 저장하는 데 사용)가 동일한 볼륨에 있는지 확인하세요.

여기에 제공된 단계를 따르세요link:https://docs.netapp.com/us-en/ontap/smb-config/create-share-task.html["링크"] 적절한 속성을 사용하여 공유를 생성합니다.  다른 기본 속성과 함께 지속적인 가용성 속성을 선택해야 합니다.

image::shift-toolkit-013.png[CIFS 공유를 생성하는 방법을 보여주는 대화 상자]

image::shift-toolkit-014.png[CIFS 공유 생성 결과를 보여주는 대화 상자]

참고: SMB 3.0을 활성화해야 합니다. 이는 기본적으로 활성화되어 있습니다.

참고: 지속적으로 사용 가능한 속성이 활성화되어 있는지 확인하세요.

참고: SMB에 대한 내보내기 정책은 스토리지 가상 머신(SVM)에서 비활성화되어야 합니다.

참고: CIFS 서버와 Hyper-V 서버가 속한 도메인은 Kerberos와 NTLMv2 인증을 모두 허용해야 합니다.

참고: ONTAP Windows 기본 공유 권한인 모든 사람/모든 권한으로 공유를 생성합니다.



=== 지원되는 운영 체제

지원되는 Windows 및 Linux 게스트 운영 체제 버전을 변환에 사용하고 Shift 툴킷이 ONTAP 버전을 지원하는지 확인하세요.



=== 지원되는 VM 게스트 운영 체제

다음 Windows 버전은 VM 변환을 위한 게스트 운영 체제로 지원됩니다.

* 윈도우 10
* 윈도우 11
* 윈도우 서버 2016
* 윈도우 서버 2019
* 윈도우 서버 2022
* 윈도우 서버 2025


다음 Linux 버전은 VM 변환을 위한 게스트 운영 체제로 지원됩니다.

* 센트OS 리눅스 7.x
* 알마 리눅스 7.x
* Red Hat Enterprise Linux 7.2 이상
* 레드햇 엔터프라이즈 리눅스 8.x
* 레드햇 엔터프라이즈 리눅스 9.x
* 우분투 2018
* 우분투 2022
* 우분투 2024
* 데비안 12
* 수세 12
* 수세 15


참고: Red Hat Enterprise Linux 5 및 6용 CentOS Linux/RedHat은 지원되지 않습니다.

참고: Windows Server 2008은 지원되지 않지만 변환 과정은 정상적으로 작동할 것입니다. 모든 위험은 사용자에게 있습니다. 그러나 Shift 툴킷을 사용하여 Windows 2008 VM을 성공적으로 변환했다는 보고를 고객으로부터 받았습니다. 마이그레이션 후에는 IP 주소를 업데이트하는 것이 중요합니다. IP 할당을 자동화하는 데 사용되는 PowerShell 버전은 Windows Server 2008에서 실행되는 이전 버전과 호환되지 않기 때문입니다.



=== 지원되는 ONTAP 버전

Shift 툴킷은 ONTAP 9.14.1 이상을 실행하는 플랫폼을 지원합니다.



=== 지원되는 하이퍼바이저 버전

* VMware - Shift 툴킷은 vSphere 7.0.3 이상에서 검증되었습니다.
* Hyper-V – Shift 툴킷은 Windows Server 2019, Windows Server 2022 및 Windows Server 2025에서 실행되는 Hyper-V 역할에 대해 검증되었습니다.
* OpenShift - Red Hat OpenShift 및 OpenShift Virtualization 4.17 이상 실행
* Oracle Linux KVM - Oracle Linux Virtualization Manager가 4.5 이상입니다.
* ovirt-engine-4.5.4-1.el8 RPM 이상이 Oracle Linux Virtualization Manager 호스트에 설치되어 있습니다.


참고: 현재 릴리스에서는 Hyper-V, VMware, OpenShift, Oracle Virtualization에서만 종단 간 가상 머신 마이그레이션이 지원됩니다.

참고: 현재 릴리스에서는 대상이 KVM인 경우 VMDK에서 qcow2 또는 RAW로의 변환이 유일하게 지원되는 워크플로입니다. 따라서 드롭다운에서 KVM을 선택하면 하이퍼바이저 세부 정보가 필요하지 않습니다. qcow2 디스크는 KVM 변형에서 가상 머신을 프로비저닝하는 데 사용할 수 있습니다.



== 설치

. 다운로드link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["시프트 툴킷"] 패키지를 다운로드하고 압축을 풉니다.
+
image::shift-toolkit-015.png[Shift Toolkit 다운로드 옵션을 보여주는 대화 상자]

. 다운로드한 .exe 파일을 두 번 클릭하여 Shift 툴킷 설치를 시작합니다.
+
image::shift-toolkit-016.png[실행할 Shift Toolkit 패키지를 보여주는 대화 상자]

+
참고: 모든 사전 검사가 수행되며 최소 요구 사항을 충족하지 못하면 해당 오류 또는 경고 메시지가 표시됩니다.

. 설치 프로그램이 설치 과정을 시작합니다.  적절한 위치를 선택하거나 기본 배치를 사용하고 다음을 클릭합니다.
+
image::shift-toolkit-017.png[Shift Toolkit 대상 폴더를 보여주는 대화 상자]

. 설치 프로그램은 Shift 툴킷 UI에 액세스하는 데 사용될 IP 주소를 선택하라는 메시지를 표시합니다.
+
image::shift-toolkit-018.png[Shift Toolkit을 시작하기 위한 IP 주소를 보여주는 대화 상자]

+
참고: VM에 여러 NIC가 할당된 경우 설정 과정에서 드롭다운 옵션을 사용하여 올바른 IP 주소를 선택할 수 있습니다.

. 이 단계에서는 설치 프로그램이 프로세스의 일부로 자동으로 다운로드되어 설치되는 모든 필수 구성 요소를 보여줍니다.  Shift 툴킷이 제대로 작동하려면 MongoDB, Windows PowerShell 7, NetApp ONTAP PowerShell 툴킷, 정책 파일 편집기, 자격 증명 관리, VMware.PowerCLI 패키지, Java OpenJDK가 모두 패키지에 포함되어 설치해야 하는 필수 구성 요소는 다음과 같습니다.
+
다음을 클릭하세요.

+
image::shift-toolkit-019.png[설치할 패키지를 보여주는 대화 상자]

. JAVA OpenJDK GNU 라이센스 정보를 검토하세요. 다음을 클릭하세요.
+
image::shift-toolkit-020.png[Java 라이선스 정보를 보여주는 대화 상자]

. 바탕 화면 바로 가기를 만들 때 기본값을 유지하고 다음을 클릭합니다.
+
image::shift-toolkit-021.png[추가 Shift Toolkit 옵션을 보여주는 대화 상자]

. 이제 설치를 진행할 준비가 되었습니다.  설치를 클릭합니다.
+
image::shift-toolkit-022.png[Shift Toolkit 설치 옵션을 보여주는 대화 상자]

. 설치가 시작되고 필요한 구성 요소가 다운로드되어 설치됩니다.  완료되면 마침을 클릭하세요.
+
image::shift-toolkit-023.png[Shift Toolkit 설치 진행 상황을 보여주는 대화 상자]

. Shift 툴킷은 기본적으로 자체 서명 인증서를 사용합니다.  인증서 프롬프트를 수락하고 다음을 클릭합니다.
+
참고: 인증서는 제3자 또는 CA에서 생성한 인증서로 쉽게 대체할 수 있습니다.  certs 폴더 내의 인증서를 교체하기만 하면 됩니다.  certs 폴더는 <설치 디렉토리>저장소>Certs에 있습니다.

+
image::shift-toolkit-024.png[Shift Toolkit SSL 인증서 선택을 보여주는 대화 상자]

. 완료되면 설치가 완료됩니다.


참고: Shift 툴킷 VM에 인터넷이 없는 경우 오프라인 설치 프로그램은 동일한 단계를 수행하지만 실행 파일에 포함된 패키지를 사용하여 구성 요소를 설치합니다.

image::shift-toolkit-025.png[Shift Toolkit 마법사를 보여주는 대화 상자]

참고: 설치하는 데 10~15분이 걸릴 수 있습니다.



== 업그레이드 수행

업그레이드는 이제 완전히 자동화되어 단 한 번의 클릭으로 완료할 수 있습니다.  추가 서비스를 이용하면 업그레이드가 더욱 간편해집니다.  포트 3002에서 수신하는 Shit 툴킷 업데이터 서비스는 다음 단계를 수행합니다.

. 업그레이드 패키지를 다운로드하세요.
. Shift 툴킷 서비스 중지
. 파일을 추출하고 필요한 파일을 덮어씁니다.
. 업데이트를 실행하고 동일한 IP 주소를 사용합니다(메타데이터는 그대로 유지).
. 완료되면 UI는 포트 3001에서 수신하는 Shift 툴킷 UI로 리디렉션됩니다.


image::shift-toolkit-026.png[Shift Toolkit 업그레이드 옵션을 보여주는 대화 상자]

참고: 인터넷 연결 없이 배포하는 경우 NetApp Toolchest에서 "update"로 시작하는 업그레이드 패키지를 수동으로 다운로드하여 지정된 폴더(C:\NetApp_Shift)에 넣으세요.  이 폴더 경로는 업데이트 프로세스 중에 생성되고 지정되어야 합니다.  다른 모든 단계는 온라인 업그레이드 절차와 동일합니다.

image::shift-toolkit-027.png[Shift Toolkit 업그레이드 옵션을 보여주는 대화 상자]
