---
sidebar: sidebar 
permalink: migration/shift-toolkit-install.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= ONTAP 스토리지용 Shift Toolkit 설치 및 설정
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
온라인 또는 오프라인 설치 옵션을 사용하여 Windows 운영 체제를 실행하는 전용 VM에 Shift Toolkit을 설치합니다.  이 프로세스에는 설치 요구 사항 검토, ONTAP 스토리지 가상 머신(SVM), qtree, CIFS 공유 구성, 설치 패키지 다운로드, 설치 프로그램 실행이 포함됩니다.



== 설치 준비

Shift 툴킷은 Windows 2019 및 2022 버전에서 실행할 수 있습니다.

* Shift 툴킷 패키지를 다운로드하세요link:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["NetApp 툴체스트"]
* 패키지의 압축을 풀어주세요
* exe를 실행하여 서비스를 설치하고 시작하세요.


Shift 툴킷은 2가지 패키지를 제공합니다.

* 온라인(약 130MB 크기) 및
* 오프라인(약 1.1GB 크기).


이름에서 알 수 있듯이 온라인 설치 패키지는 Shift 툴킷이 소유한 S3 버킷에서 인터넷을 통해 필요한 필수 구성 요소를 다운로드하여 설치합니다.

image:shift-toolkit-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

온라인 설치는 편리하지만, 오프라인 설치는 설치 과정을 더 많이 제어할 수 있습니다.  오프라인 설치 패키지를 사용하면 Shift 툴킷을 설치하는 데 필요한 모든 사전 요구 사항이 패키지에 포함되어 있습니다.  오프라인 설치의 주요 장점 중 하나는 인터넷에 연결하지 않고도 가상 머신에 Shift 툴킷을 설치할 수 있다는 것입니다.


TIP: 배포에 적합한 패키지를 사용하세요.  오프라인 모드에서는 모든 필수 구성 요소와 필수 파일이 포함되어 있으므로 프록시 설정을 수정할 필요가 없습니다.

Shift 툴킷은 소스 환경과 대상 환경 간에 연결이 있는 한 VMware 또는 Microsoft Hyper-V 서버를 실행하는 가상 머신에 설치할 수 있으며, Shift 툴킷을 별도의 VM에 설치하는 것이 가장 좋습니다.  이 접근 방식을 사용하면 단일 Shift 툴킷 서버로 다양한 Microsoft Hyper-V 서버 또는 VMware ESXi 서버를 타겟팅할 수 있습니다.


NOTE: 전용 VM에 Shift 툴킷을 설치합니다.



== 설치를 위한 전제 조건



=== 하드웨어 요구 사항

Shift 서버 호스트가 최소 하드웨어 요구 사항을 충족하는지 확인하세요.

하드웨어 요구 사항:

* CPU: 4개의 vCPU
* 메모리: 최소 8GB
* 디스크 공간: 최소 100GB



NOTE: 설치하려면 650MB의 디스크 공간이 필요합니다.



=== 연결 요구 사항

* Shift 툴킷이 환경의 모든 구성 요소와 적절하게 상호 작용할 수 있도록 하이퍼바이저와 스토리지 환경이 구성되어 있는지 확인하세요.
* Shift 툴킷은 독립형 Windows 서버(물리적 또는 가상)에 설치해야 합니다.
* Shift 서버, Data ONTAP CIFS 서버 및 Hyper-V 서버는 동일한 Windows Active Directory 도메인에 있어야 합니다.
* Storage Virtual Machine에서 VM 변환을 수행할 때 CIFS 및 NFS용 여러 LIF를 사용할 수 있습니다.  Hyper-V 서버와 ESXi 호스트는 이러한 LIF의 IP 주소에서 SVM(스토리지 가상 머신)에 액세스합니다.
* CIFS 작업의 경우 Windows 도메인 컨트롤러와 NetApp 스토리지 컨트롤러의 시간 설정을 동기화해야 합니다.




== ONTAP 스토리지 구성



=== 새로운 SVM 만들기(권장)

Shift 툴킷을 사용하면 기존 SVM을 사용할 수 있지만 NetApp 새로운 SVM을 만드는 것이 가장 좋습니다.  Storage vMotion을 사용하여 전용 Data ONTAP 스토리지 가상 머신(SVM)에 있는 새로운 지정 NFS v3 데이터 저장소로 마이그레이션 또는 변환할 VM을 이동합니다.  이 svmotion 기반 마이그레이션은 VM의 가동 중지 시간 없이 수행됩니다.  이 접근 방식을 사용하면 마이그레이션하도록 지정된 VM이 프로덕션 SVM에 상주하지 않습니다.  ONTAP CLI, NetApp PowerShell 툴킷 또는 System Manager를 사용하여 새로운 SVM을 만듭니다.

여기에 제공된 단계를 따르세요link:https://docs.netapp.com/us-en/ontap/networking/create_svms.html["링크"] NFS와 SMB 프로토콜을 모두 허용하는 새로운 SVM을 프로비저닝합니다.


NOTE: 운영 중인 SVM을 방해가 될 수 있는 방식으로 수정하지 않고도 SVM이 Shift 툴킷 요구 사항을 충족하는지 확인하기 위해 새로운 SVM을 만드는 것이 좋은 방법입니다.


NOTE: Hyper-V 마이그레이션의 경우, 새로운 SVM에서 NFS와 SMB 프로토콜을 모두 활성화해야 합니다.  프로비저닝된 볼륨에는 NFS와 SMB가 모두 활성화되어 있어야 합니다.  대상이 KVM 기반 하이퍼바이저인 경우 SVM에서 NFS 프로토콜이 활성화되어 있어야 합니다.



=== Qtree 요구 사항

VMware에서 Hyper-V로 변환할 VM을 호스팅하는 데 사용될 볼륨에 qtree를 생성하여 VHDX 파일이나 VMDK에서 변환될 qcow2 또는 VHDX 파일을 분리하고 저장해야 합니다.

* ESX에서 Hyper-V로 변환하는 경우, Shift 툴킷은 변환된 VHDX를 동일한 볼륨 내의 qtree(NTFS 보안 스타일)에 배치합니다.
* ESX VMDK에서 QCOW2로 변환하는 경우 UNIX 보안 스타일을 적용한 qtree를 사용해야 합니다.


Shift 툴킷은 qtree의 보안 스타일을 확인하지 않습니다.  따라서 대상 하이퍼바이저와 디스크 유형에 따라 적절한 보안 스타일로 qtree를 만드는 것이 중요합니다.


NOTE: 대상 경로는 소스 VM의 동일한 볼륨에 있어야 합니다.


NOTE: 대상 하이퍼바이저 유형 및 디스크 형식에 따라 qtree에 올바른 보안 스타일을 할당합니다.


NOTE: 변환된 qcow2 파일을 OpenShift 가상화와 함께 사용할 경우 예외가 있습니다. 이러한 파일은 qtree를 활용하지 않고도 볼륨에 직접 배치할 수 있습니다.  이를 달성하려면 Shift 툴킷 API를 사용하여 VMDK 파일을 qcow2 형식으로 변환하고 볼륨 내에 직접 배치합니다.

여기에 제공된 단계를 따르세요link:https://docs.netapp.com/us-en/ontap/nfs-config/create-qtree-task.html["링크"] 올바른 보안 스타일로 qtree를 생성합니다.

image:shift-toolkit-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]



=== CIFS 공유 요구 사항:

Hyper-V 마이그레이션의 경우 변환된 VM 데이터가 저장될 공유를 만듭니다.  NFS 공유(변환할 VM을 저장하는 데 사용)와 대상 공유(변환된 VM을 저장하는 데 사용)가 동일한 볼륨에 있는지 확인하세요.  Shift 툴킷은 여러 볼륨에 걸친 확장을 지원하지 않습니다.

여기에 제공된 단계를 따르세요link:https://docs.netapp.com/us-en/ontap/smb-config/create-share-task.html["링크"] 적절한 속성을 사용하여 공유를 생성합니다.  다른 기본 속성과 함께 지속적인 가용성 속성을 선택해야 합니다.

image:shift-toolkit-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

image:shift-toolkit-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]


NOTE: SMB 3.0을 활성화해야 합니다. 이는 기본적으로 활성화되어 있습니다.


NOTE: 지속적으로 이용 가능한 속성이 활성화되어 있는지 확인하세요.


NOTE: SMB에 대한 내보내기 정책은 스토리지 가상 머신(SVM)에서 비활성화되어야 합니다.


NOTE: CIFS 서버와 Hyper-V 서버가 속한 도메인은 Kerberos와 NTLMv2 인증을 모두 허용해야 합니다.


NOTE: ONTAP Windows 기본 공유 권한인 모든 사람/모든 권한으로 공유를 만듭니다.



== 지원되는 운영 체제

지원되는 Windows 및 Linux 게스트 운영 체제 버전을 변환에 사용하고 Shift 툴킷이 ONTAP 버전을 지원하는지 확인하세요.

*지원되는 VM 게스트 운영 체제*

다음 Windows 버전은 VM 변환을 위한 게스트 운영 체제로 지원됩니다.

* 윈도우 10
* 윈도우 11
* 윈도우 서버 2016
* 윈도우 서버 2019
* 윈도우 서버 2022
* 윈도우 서버 2025


다음 Linux 버전은 VM 변환을 위한 게스트 운영 체제로 지원됩니다.

* 센트OS 리눅스 7.x
* Red Hat Enterprise Linux 6.7 이상
* Red Hat Enterprise Linux 7.2 이상
* 레드햇 엔터프라이즈 리눅스 8.x
* 레드햇 엔터프라이즈 리눅스 9.x
* 우분투 2018
* 우분투 2022
* 우분투 2024
* 데비안 10
* 데비안 11
* 데비안 12
* 수세 12
* 수세 15



NOTE: Red Hat Enterprise Linux 5용 CentOS Linux/RedHat은 지원되지 않습니다.


NOTE: Windows Server 2008은 지원되지 않지만 변환 과정은 정상적으로 작동할 것입니다.  모든 위험은 사용자에게 있습니다. 그러나 Shift 툴킷을 사용하여 Windows 2008 VM을 성공적으로 변환했다는 보고를 고객으로부터 받았습니다.  마이그레이션 후에는 IP 주소를 업데이트하는 것이 중요합니다. IP 할당을 자동화하는 데 사용되는 PowerShell 버전은 Windows Server 2008에서 실행되는 이전 버전과 호환되지 않기 때문입니다.

* ONTAP 지원 버전*

Shift 툴킷은 ONTAP 9.14.1 이상을 실행하는 플랫폼을 지원합니다.

*지원되는 하이퍼바이저 버전*

VMware: Shift 툴킷은 vSphere 7.0.3 이상에 대해 검증되었습니다. Hyper-V: Shift 툴킷은 Windows Server 2019, Windows Server 2022 및 Windows Server 2025에서 실행되는 Hyper-V 역할에 대해 검증되었습니다.


NOTE: 현재 릴리스에서는 Hyper-V를 통해서만 종단 간 가상 머신 마이그레이션이 지원됩니다.


NOTE: 현재 릴리스에서는 대상이 KVM인 경우 VMDK에서 qcow2로의 변환이 유일하게 지원되는 워크플로입니다.  따라서 드롭다운에서 KVM을 선택하면 하이퍼바이저 세부 정보가 필요하지 않습니다.  qcow2 디스크는 KVM 변형에서 가상 머신을 프로비저닝하는 데 사용할 수 있습니다.



== 설치

. 다운로드link:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["Shift 툴킷 패키지"] 압축을 풀어주세요.
+
image:shift-toolkit-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 다운로드한 .exe 파일을 두 번 클릭하여 Shift 툴킷 설치를 시작합니다.
+
image:shift-toolkit-008.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

+

NOTE: 모든 사전 점검이 수행되고, 최소 요구 사항을 충족하지 못할 경우 해당 오류 또는 경고 메시지가 표시됩니다.

. 설치 프로그램이 설치 과정을 시작합니다.  적절한 위치를 선택하거나 기본 배치를 사용하고 다음을 클릭합니다.
+
image:shift-toolkit-009.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 설치 프로그램은 Shift 툴킷 UI에 액세스하는 데 사용될 IP 주소를 선택하라는 메시지를 표시합니다.
+
image:shift-toolkit-010.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

+

NOTE: VM에 여러 NIC가 할당된 경우 설정 과정에서 드롭다운 옵션을 사용하여 올바른 IP 주소를 선택할 수 있습니다.

. 이 단계에서는 설치 프로그램이 프로세스의 일부로 자동으로 다운로드되어 설치되는 모든 필수 구성 요소를 보여줍니다.  Shift 툴킷이 제대로 작동하려면 MongoDB, Windows PowerShell 7, NetApp ONTAP PowerShell 툴킷, 정책 파일 편집기, 자격 증명 관리, VMware.PowerCLI 패키지, Java OpenJDK가 모두 패키지에 포함되어 설치해야 하는 필수 구성 요소는 다음과 같습니다.
+
*다음*을 클릭하세요

+
image:shift-toolkit-011.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. JAVA OpenJDK GNU 라이센스 정보를 검토하세요. 다음을 클릭하세요.
+
image:shift-toolkit-012.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 바탕 화면 바로 가기를 만들 때 기본값을 유지하고 다음을 클릭합니다.
+
image:shift-toolkit-013.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 이제 설치를 진행할 준비가 되었습니다.  설치를 클릭합니다.
+
image:shift-toolkit-014.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 설치가 시작되고 필요한 구성 요소가 다운로드되어 설치됩니다.  완료되면 마침을 클릭하세요.
+
image:shift-toolkit-015.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]




NOTE: Shift 툴킷 VM에 인터넷이 없는 경우 오프라인 설치 프로그램은 동일한 단계를 수행하지만 실행 파일에 포함된 패키지를 사용하여 구성 요소를 설치합니다.

image:shift-toolkit-016.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]


NOTE: 설치하는 데 8~10분이 걸릴 수 있습니다.



== 업그레이드 수행

다운로드link:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit/download["업그레이드 패키지"] "update"로 시작하여 아래 단계를 따르세요.

image:shift-toolkit-017.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 지정된 폴더에 파일을 추출합니다.
. 추출 후 NetApp Shift 서비스를 중지합니다.
. 추출된 폴더의 모든 파일을 설치 디렉토리에 복사하고 메시지가 나타나면 파일을 덮어씁니다.
. 완료되면 "관리자 권한으로 실행" 옵션을 사용하여 update.bat을 실행하고 메시지가 표시되면 Shift Toolkit VM IP를 입력합니다.
. 이 프로세스를 통해 Shift 서비스가 업그레이드되고 시작됩니다.

